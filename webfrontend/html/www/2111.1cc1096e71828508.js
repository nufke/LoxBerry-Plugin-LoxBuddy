"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2111],{2111:(Pn,pe,v)=>{v.r(pe),v.d(pe,{DetailedControlPageModule:()=>Sn});var w,G,be,ae,we,_=v(7027),B=v(6089),A=v(6814),re=v(6223),o=v(5879),W=v(6308),je=v(7066),We=v(4403),ie=v(2572),oe=v(7398),Qe=v(7658),P=v(9515),L=v(4898),Ge=v(2571),N={},se=[],Fe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function R(e,r){for(var n in r)e[n]=r[n];return e}function ye(e){var r=e.parentNode;r&&r.removeChild(e)}function p(e,r,n){var t,i,a,s,l=arguments;if(r=R({},r),arguments.length>3)for(n=[n],t=3;t<arguments.length;t++)n.push(l[t]);if(null!=n&&(r.children=n),null!=e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===r[i]&&(r[i]=e.defaultProps[i]);return s=r.key,null!=(a=r.ref)&&delete r.ref,null!=s&&delete r.key,le(e,r,s,a)}function le(e,r,n,t){var i={type:e,props:r,key:n,ref:t,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return w.vnode&&w.vnode(i),i}function J(e){return e.children}function $(e,r){this.props=e,this.context=r}function F(e,r){if(null==r)return e.__p?F(e.__p,e.__p.__k.indexOf(e)+1):null;for(var n;r<e.__k.length;r++)if(null!=(n=e.__k[r])&&null!=n.__e)return n.__e;return"function"==typeof e.type?F(e):null}function xe(e){var r,n;if(null!=(e=e.__p)&&null!=e.__c){for(e.__e=e.__c.base=null,r=0;r<e.__k.length;r++)if(null!=(n=e.__k[r])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return xe(e)}}function ce(e){(!e.__d&&(e.__d=!0)&&1===G.push(e)||ae!==w.debounceRendering)&&(ae=w.debounceRendering,(w.debounceRendering||be)(Xe))}function Xe(){var e,r,n,t,i,a,s,l;for(G.sort(function(h,u){return u.__v.__b-h.__v.__b});e=G.pop();)e.__d&&(n=void 0,t=void 0,a=(i=(r=e).__v).__e,s=r.__P,l=r.u,r.u=!1,s&&(n=[],t=he(s,i,R({},i),r.__n,void 0!==s.ownerSVGElement,null,n,l,a??F(i)),Se(n,i),t!=a&&xe(i)))}function Ce(e,r,n,t,i,a,s,l,h){var u,d,c,f,g,m,b,k=n&&n.__k||se,x=k.length;if(l==N&&(l=null!=a?a[0]:x?F(n,0):null),u=0,r.__k=ue(r.__k,function(y){if(null!=y){if(y.__p=r,y.__b=r.__b+1,null===(c=k[u])||c&&y.key==c.key&&y.type===c.type)k[u]=void 0;else for(d=0;d<x;d++){if((c=k[d])&&y.key==c.key&&y.type===c.type){k[d]=void 0;break}c=null}if(f=he(e,y,c=c||N,t,i,a,s,null,l,h),(d=y.ref)&&c.ref!=d&&(b||(b=[])).push(d,y.__c||f,y),null!=f){if(null==m&&(m=f),null!=y.l)f=y.l,y.l=null;else if(a==c||f!=l||null==f.parentNode){e:if(null==l||l.parentNode!==e)e.appendChild(f);else{for(g=l,d=0;(g=g.nextSibling)&&d<x;d+=2)if(g==f)break e;e.insertBefore(f,l)}"option"==r.type&&(e.value="")}l=f.nextSibling,"function"==typeof r.type&&(r.l=f)}}return u++,y}),r.__e=m,null!=a&&"function"!=typeof r.type)for(u=a.length;u--;)null!=a[u]&&ye(a[u]);for(u=x;u--;)null!=k[u]&&Pe(k[u],k[u]);if(b)for(u=0;u<b.length;u++)Ee(b[u],b[++u],b[++u])}function ue(e,r,n){if(null==n&&(n=[]),null==e||"boolean"==typeof e)r&&n.push(r(null));else if(Array.isArray(e))for(var t=0;t<e.length;t++)ue(e[t],r,n);else n.push(r?r(function ze(e){if(null==e||"boolean"==typeof e)return null;if("string"==typeof e||"number"==typeof e)return le(null,e,null,null);if(null!=e.__e||null!=e.__c){var r=le(e.type,e.props,e.key,null);return r.__e=e.__e,r}return e}(e)):e);return n}function ke(e,r,n){"-"===r[0]?e.setProperty(r,n):e[r]="number"==typeof n&&!1===Fe.test(r)?n+"px":n??""}function Te(e,r,n,t,i){var a,s,l,h,u;if("key"!==(r=i?"className"===r?"class":r:"class"===r?"className":r)&&"children"!==r)if("style"===r)if(a=e.style,"string"==typeof n)a.cssText=n;else{if("string"==typeof t&&(a.cssText="",t=null),t)for(s in t)n&&s in n||ke(a,s,"");if(n)for(l in n)t&&n[l]===t[l]||ke(a,l,n[l])}else"o"===r[0]&&"n"===r[1]?(h=r!==(r=r.replace(/Capture$/,"")),u=r.toLowerCase(),r=(u in e?u:r).slice(2),n?(t||e.addEventListener(r,Ie,h),(e.t||(e.t={}))[r]=n):e.removeEventListener(r,Ie,h)):"list"!==r&&"tagName"!==r&&"form"!==r&&!i&&r in e?e[r]=n??"":"function"!=typeof n&&"dangerouslySetInnerHTML"!==r&&(r!==(r=r.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",r.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",r.toLowerCase(),n):null==n||!1===n?e.removeAttribute(r):e.setAttribute(r,n))}function Ie(e){return this.t[e.type](w.event?w.event(e):e)}function he(e,r,n,t,i,a,s,l,h,u){var d,c,f,g,m,b,k,x,y,O,M=r.type;if(void 0!==r.constructor)return null;(d=w.__b)&&d(r);try{e:if("function"==typeof M){if(x=r.props,y=(d=M.contextType)&&t[d.__c],O=d?y?y.props.value:d.__p:t,n.__c?k=(c=r.__c=n.__c).__p=c.__E:("prototype"in M&&M.prototype.render?r.__c=c=new M(x,O):(r.__c=c=new $(x,O),c.constructor=M,c.render=et),y&&y.sub(c),c.props=x,c.state||(c.state={}),c.context=O,c.__n=t,f=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=M.getDerivedStateFromProps&&R(c.__s==c.state?c.__s=R({},c.__s):c.__s,M.getDerivedStateFromProps(x,c.__s)),f)null==M.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&s.push(c);else{if(null==M.getDerivedStateFromProps&&null==l&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(x,O),!l&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(x,c.__s,O)){for(c.props=x,c.state=c.__s,c.__d=!1,c.__v=r,r.__e=null!=h?h!==n.__e?h:n.__e:null,r.__k=n.__k,d=0;d<r.__k.length;d++)r.__k[d]&&(r.__k[d].__p=r);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(x,c.__s,O)}for(g=c.props,m=c.state,c.context=O,c.props=x,c.state=c.__s,(d=w.__r)&&d(r),c.__d=!1,c.__v=r,c.__P=e,d=c.render(c.props,c.state,c.context),r.__k=ue(null!=d&&d.type==J&&null==d.key?d.props.children:d),null!=c.getChildContext&&(t=R(R({},t),c.getChildContext())),f||null==c.getSnapshotBeforeUpdate||(b=c.getSnapshotBeforeUpdate(g,m)),Ce(e,r,n,t,i,a,s,h,u),c.base=r.__e;d=c.__h.pop();)c.__s&&(c.state=c.__s),d.call(c);f||null==g||null==c.componentDidUpdate||c.componentDidUpdate(g,m,b),k&&(c.__E=c.__p=null)}else r.__e=function qe(e,r,n,t,i,a,s,l){var h,u,d,c,f=n.props,g=r.props;if(i="svg"===r.type||i,null==e&&null!=a)for(h=0;h<a.length;h++)if(null!=(u=a[h])&&(null===r.type?3===u.nodeType:u.localName===r.type)){e=u,a[h]=null;break}if(null==e){if(null===r.type)return document.createTextNode(g);e=i?document.createElementNS("http://www.w3.org/2000/svg",r.type):document.createElement(r.type),a=null}return null===r.type?f!==g&&(null!=a&&(a[a.indexOf(e)]=null),e.data=g):r!==n&&(null!=a&&(a=se.slice.call(e.childNodes)),d=(f=n.props||N).dangerouslySetInnerHTML,c=g.dangerouslySetInnerHTML,l||(c||d)&&(c&&d&&c.__html==d.__html||(e.innerHTML=c&&c.__html||"")),function Ke(e,r,n,t,i){var a;for(a in n)a in r||Te(e,a,null,n[a],t);for(a in r)i&&"function"!=typeof r[a]||"value"===a||"checked"===a||n[a]===r[a]||Te(e,a,r[a],n[a],t)}(e,g,f,i,l),r.__k=r.props.children,c||Ce(e,r,n,t,"foreignObject"!==r.type&&i,a,s,N,l),l||("value"in g&&void 0!==g.value&&g.value!==e.value&&(e.value=null==g.value?"":g.value),"checked"in g&&void 0!==g.checked&&g.checked!==e.checked&&(e.checked=g.checked))),e}(n.__e,r,n,t,i,a,s,u);(d=w.diffed)&&d(r)}catch(En){w.__e(En,r,n)}return r.__e}function Se(e,r){for(var n;n=e.pop();)try{n.componentDidMount()}catch(t){w.__e(t,n.__v)}w.__c&&w.__c(r)}function Ee(e,r,n){try{"function"==typeof e?e(r):e.current=r}catch(t){w.__e(t,n)}}function Pe(e,r,n){var t,i,a;if(w.unmount&&w.unmount(e),(t=e.ref)&&Ee(t,null,r),n||"function"==typeof e.type||(n=null!=(i=e.__e)),e.__e=e.l=null,null!=(t=e.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(s){w.__e(s,r)}t.base=t.__P=null}if(t=e.__k)for(a=0;a<t.length;a++)t[a]&&Pe(t[a],r,n);null!=i&&ye(i)}function et(e,r,n){return this.constructor(e,n)}function Me(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function T(){return T=Object.assign||function(e){for(var r=arguments,n=1;n<arguments.length;n++){var t=r[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},T.apply(this,arguments)}w={},$.prototype.setState=function(e,r){var n=this.__s!==this.state&&this.__s||(this.__s=R({},this.state));("function"!=typeof e||(e=e(n,this.props)))&&R(n,e),null!=e&&this.__v&&(this.u=!1,r&&this.__h.push(r),ce(this))},$.prototype.forceUpdate=function(e){this.__v&&(e&&this.__h.push(e),this.u=!0,ce(this))},$.prototype.render=J,G=[],be="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ae=w.debounceRendering,w.__e=function(e,r,n){for(var t;r=r.__p;)if((t=r.__c)&&!t.__p)try{if(t.constructor&&null!=t.constructor.getDerivedStateFromError)t.setState(t.constructor.getDerivedStateFromError(e));else{if(null==t.componentDidCatch)continue;t.componentDidCatch(e)}return ce(t.__E=t)}catch(i){e=i}throw e},we=N;var V="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",Ae="[\\s|\\(]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",Ne="[\\s|\\(]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",ot=new RegExp("rgb"+Ae),at=new RegExp("rgba"+Ne),st=new RegExp("hsl"+Ae),lt=new RegExp("hsla"+Ne),z="^(?:#?|0x?)",U="([0-9a-fA-F]{1})",D="([0-9a-fA-F]{2})",ct=new RegExp(z+U+U+U+"$"),ut=new RegExp(z+U+U+U+U+"$"),ht=new RegExp(z+D+D+D+"$"),dt=new RegExp(z+D+D+D+D+"$"),X=Math.log,Y=Math.round,Q=Math.floor;function E(e,r,n){return Math.min(Math.max(e,r),n)}function I(e,r){var n=e.indexOf("%")>-1,t=parseFloat(e);return n?r/100*t:t}function S(e){return parseInt(e,16)}function Z(e){return e.toString(16).padStart(2,"0")}var j=function(){function e(n,t){this.$={h:0,s:0,v:0,a:1},n&&this.set(n),this.onChange=t,this.initialValue=T({},this.$)}var r=e.prototype;return r.set=function(t){if("string"==typeof t)/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(t)?this.hexString=t:/^rgba?/.test(t)?this.rgbString=t:/^hsla?/.test(t)&&(this.hslString=t);else{if("object"!=typeof t)throw new Error("Invalid color value");t instanceof e?this.hsva=t.hsva:"r"in t&&"g"in t&&"b"in t?this.rgb=t:"h"in t&&"s"in t&&"v"in t?this.hsv=t:"h"in t&&"s"in t&&"l"in t?this.hsl=t:"kelvin"in t&&(this.kelvin=t.kelvin)}},r.setChannel=function(t,i,a){var s;this[t]=T({},this[t],((s={})[i]=a,s))},r.reset=function(){this.hsva=this.initialValue},r.clone=function(){return new e(this)},r.unbind=function(){this.onChange=void 0},e.hsvToRgb=function(t){var i=t.h/60,a=t.s/100,s=t.v/100,l=Q(i),h=i-l,u=s*(1-a),d=s*(1-h*a),c=s*(1-(1-h)*a),f=l%6,m=[c,s,s,d,u,u][f],b=[u,u,c,s,s,d][f];return{r:E(255*[s,d,u,u,c,s][f],0,255),g:E(255*m,0,255),b:E(255*b,0,255)}},e.rgbToHsv=function(t){var i=t.r/255,a=t.g/255,s=t.b/255,l=Math.max(i,a,s),h=Math.min(i,a,s),u=l-h,d=0,c=l,f=0===l?0:u/l;switch(l){case h:d=0;break;case i:d=(a-s)/u+(a<s?6:0);break;case a:d=(s-i)/u+2;break;case s:d=(i-a)/u+4}return{h:60*d%360,s:E(100*f,0,100),v:E(100*c,0,100)}},e.hsvToHsl=function(t){var i=t.s/100,a=t.v/100,s=(2-i)*a,l=s<=1?s:2-s;return{h:t.h,s:E(100*(l<1e-9?0:i*a/l),0,100),l:E(50*s,0,100)}},e.hslToHsv=function(t){var i=2*t.l,a=t.s*(i<=100?i:200-i)/100;return{h:t.h,s:E(100*(i+a<1e-9?0:2*a/(i+a)),0,100),v:E((i+a)/2,0,100)}},e.kelvinToRgb=function(t){var a,s,l,i=t/100;return i<66?(a=255,s=-155.25485562709179-.44596950469579133*(s=i-2)+104.49216199393888*X(s),l=i<20?0:.8274096064007395*(l=i-10)-254.76935184120902+115.67994401066147*X(l)):(a=351.97690566805693+.114206453784165*(a=i-55)-40.25366309332127*X(a),s=325.4494125711974+.07943456536662342*(s=i-50)-28.0852963507957*X(s),l=255),{r:E(Q(a),0,255),g:E(Q(s),0,255),b:E(Q(l),0,255)}},e.rgbToKelvin=function(t){for(var u,i=t.r,a=t.b,l=2e3,h=4e4;h-l>.4;){var d=e.kelvinToRgb(u=.5*(h+l));d.b/d.r>=a/i?h=u:l=u}return u},function nt(e,r,n){r&&Me(e.prototype,r),n&&Me(e,n)}(e,[{key:"hsv",get:function(){var t=this.$;return{h:t.h,s:t.s,v:t.v}},set:function(t){var i=this.$;if(t=T({},i,t),this.onChange){var a={h:!1,v:!1,s:!1,a:!1};for(var s in i)a[s]=t[s]!=i[s];this.$=t,(a.h||a.s||a.v||a.a)&&this.onChange(this,a)}else this.$=t}},{key:"hsva",get:function(){return T({},this.$)},set:function(t){this.hsv=t}},{key:"hue",get:function(){return this.$.h},set:function(t){this.hsv={h:t}}},{key:"saturation",get:function(){return this.$.s},set:function(t){this.hsv={s:t}}},{key:"value",get:function(){return this.$.v},set:function(t){this.hsv={v:t}}},{key:"alpha",get:function(){return this.$.a},set:function(t){this.hsv=T({},this.hsv,{a:t})}},{key:"kelvin",get:function(){return e.rgbToKelvin(this.rgb)},set:function(t){this.rgb=e.kelvinToRgb(t)}},{key:"red",get:function(){return this.rgb.r},set:function(t){this.rgb=T({},this.rgb,{r:t})}},{key:"green",get:function(){return this.rgb.g},set:function(t){this.rgb=T({},this.rgb,{g:t})}},{key:"blue",get:function(){return this.rgb.b},set:function(t){this.rgb=T({},this.rgb,{b:t})}},{key:"rgb",get:function(){var t=e.hsvToRgb(this.$),a=t.g,s=t.b;return{r:Y(t.r),g:Y(a),b:Y(s)}},set:function(t){this.hsv=T({},e.rgbToHsv(t),{a:void 0===t.a?1:t.a})}},{key:"rgba",get:function(){return T({},this.rgb,{a:this.alpha})},set:function(t){this.rgb=t}},{key:"hsl",get:function(){var t=e.hsvToHsl(this.$),a=t.s,s=t.l;return{h:Y(t.h),s:Y(a),l:Y(s)}},set:function(t){this.hsv=T({},e.hslToHsv(t),{a:void 0===t.a?1:t.a})}},{key:"hsla",get:function(){return T({},this.hsl,{a:this.alpha})},set:function(t){this.hsl=t}},{key:"rgbString",get:function(){var t=this.rgb;return"rgb("+t.r+", "+t.g+", "+t.b+")"},set:function(t){var i,a,s,l,h=1;if((i=ot.exec(t))?(a=I(i[1],255),s=I(i[2],255),l=I(i[3],255)):(i=at.exec(t))&&(a=I(i[1],255),s=I(i[2],255),l=I(i[3],255),h=I(i[4],1)),!i)throw new Error("Invalid rgb string");this.rgb={r:a,g:s,b:l,a:h}}},{key:"rgbaString",get:function(){var t=this.rgba;return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},set:function(t){this.rgbString=t}},{key:"hexString",get:function(){var t=this.rgb;return"#"+Z(t.r)+Z(t.g)+Z(t.b)},set:function(t){var i,a,s,l,h=255;if((i=ct.exec(t))?(a=17*S(i[1]),s=17*S(i[2]),l=17*S(i[3])):(i=ut.exec(t))?(a=17*S(i[1]),s=17*S(i[2]),l=17*S(i[3]),h=17*S(i[4])):(i=ht.exec(t))?(a=S(i[1]),s=S(i[2]),l=S(i[3])):(i=dt.exec(t))&&(a=S(i[1]),s=S(i[2]),l=S(i[3]),h=S(i[4])),!i)throw new Error("Invalid hex string");this.rgb={r:a,g:s,b:l,a:h/255}}},{key:"hex8String",get:function(){var t=this.rgba;return"#"+Z(t.r)+Z(t.g)+Z(t.b)+Z(Q(255*t.a))},set:function(t){this.hexString=t}},{key:"hslString",get:function(){var t=this.hsl;return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},set:function(t){var i,a,s,l,h=1;if((i=st.exec(t))?(a=I(i[1],360),s=I(i[2],100),l=I(i[3],100)):(i=lt.exec(t))&&(a=I(i[1],360),s=I(i[2],100),l=I(i[3],100),h=I(i[4],1)),!i)throw new Error("Invalid hsl string");this.hsl={h:a,s,l,a:h}}},{key:"hslaString",get:function(){var t=this.hsla;return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},set:function(t){this.hslString=t}}]),e}();function de(e){var r,n=e.width,t=e.sliderSize,a=e.handleRadius,s=e.padding,h="horizontal"===e.layoutDirection;return t=null!=(r=t)?r:2*s+2*a,"circle"===e.sliderShape?{handleStart:e.padding+e.handleRadius,handleRange:n-2*s-2*a,width:n,height:n,cx:n/2,cy:n/2,radius:n/2-e.borderWidth/2}:{handleStart:t/2,handleRange:n-t,radius:t/2,x:0,y:0,width:h?t:n,height:h?n:t}}var ge,Re=2*Math.PI,wt=function(r,n){return(r%n+n)%n},Oe=function(r,n){return Math.sqrt(r*r+n*n)};function Ve(e){return e.width/2-e.padding-e.handleRadius-e.borderWidth}function K(e){var r=e.width/2;return{width:e.width,radius:r-e.borderWidth,cx:r,cy:r}}function Ue(e,r,n){var t=e.wheelAngle,i=e.wheelDirection;return n&&"clockwise"===i?r=t+r:"clockwise"===i?r=360-t+r:n&&"anticlockwise"===i?r=t+180-r:"anticlockwise"===i&&(r=t-r),wt(r,360)}function De(e,r,n){var t=K(e),i=t.cx,a=t.cy,s=Ve(e);r=i-r,n=a-n;var l=Ue(e,Math.atan2(-n,-r)*(360/Re)),h=Math.min(Oe(r,n),s);return{h:Math.round(l),s:Math.round(100/s*h)}}function fe(e){var r=e.width;return{width:r,height:e.boxHeight??r,radius:e.padding+e.handleRadius}}function Ze(e,r,n){var t=fe(e),s=t.radius,c=(n-s)/(t.height-2*s)*100;return{s:Math.max(0,Math.min((r-s)/(t.width-2*s)*100,100)),v:Math.max(0,Math.min(100-c,100))}}function Tt(e){ge||(ge=document.getElementsByTagName("base"));var r=window.navigator.userAgent,n=/^((?!chrome|android).)*safari/i.test(r),t=/iPhone|iPod|iPad/i.test(r),i=window.location;return(n||t)&&ge.length>0?i.protocol+"//"+i.host+i.pathname+i.search+e:e}function He(e,r,n,t){for(var i=0;i<t.length;i++){var a=t[i].x-r,s=t[i].y-n;if(Math.sqrt(a*a+s*s)<e.handleRadius)return i}return null}function ve(e){return{boxSizing:"border-box",border:e.borderWidth+"px solid "+e.borderColor}}function _e(e,r,n){return e+"-gradient("+r+", "+n.map(function(t){return t[1]+" "+t[0]+"%"}).join(",")+")"}function C(e){return"string"==typeof e?e:e+"px"}var Be=["mousemove","touchmove","mouseup","touchend"],q=function(e){function r(n){e.call(this,n),this.uid=(Math.random()+1).toString(36).substring(5)}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.render=function(t){var i=this.handleEvent.bind(this),a={onMouseDown:i,ontouchstart:i},s="horizontal"===t.layoutDirection,h={overflow:"visible",display:s?"inline-block":"block"};return t.index>0&&(h[s?"marginLeft":"marginTop"]=null===t.margin?t.sliderMargin:t.margin),p(J,null,t.children(this.uid,a,h))},r.prototype.handleEvent=function(t){var i=this,a=this.props.onInput,s=this.base.getBoundingClientRect();t.preventDefault();var l=t.touches?t.changedTouches[0]:t,h=l.clientX-s.left,u=l.clientY-s.top;switch(t.type){case"mousedown":case"touchstart":!1!==a(h,u,0)&&Be.forEach(function(c){document.addEventListener(c,i,{passive:!1})});break;case"mousemove":case"touchmove":a(h,u,1);break;case"mouseup":case"touchend":a(h,u,2),Be.forEach(function(c){document.removeEventListener(c,i,{passive:!1})})}},r}($);function H(e){var r=e.r,n=e.url,t=r,i=r;return p("svg",{className:"IroHandle IroHandle--"+e.index+" "+(e.isActive?"IroHandle--isActive":""),style:{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0);",transform:"translate("+C(e.x)+", "+C(e.y)+")",willChange:"transform",top:C(-r),left:C(-r),width:C(2*r),height:C(2*r),position:"absolute",overflow:"visible"}},n&&p("use",Object.assign({xlinkHref:Tt(n)},e.props)),!n&&p("circle",{cx:t,cy:i,r,fill:"none","stroke-width":2,stroke:"#000"}),!n&&p("circle",{cx:t,cy:i,r:r-2,fill:e.fill,"stroke-width":2,stroke:"#fff"}))}function ee(e){var r=e.activeIndex,n=void 0!==r&&r<e.colors.length?e.colors[r]:e.color,t=de(e),i=t.width,a=t.height,s=t.radius,l=function pt(e,r){var n=de(e),t=n.width,i=n.height,a=n.handleRange,s=n.handleStart,l="horizontal"===e.layoutDirection,h=function _t(e,r){var n=r.hsva,t=r.rgb;switch(e.sliderType){case"red":return t.r/2.55;case"green":return t.g/2.55;case"blue":return t.b/2.55;case"alpha":return 100*n.a;case"kelvin":var i=e.minTemperature;return Math.max(0,Math.min((r.kelvin-i)/(e.maxTemperature-i)*100,100));case"hue":return n.h/=3.6;case"saturation":return n.s;default:return n.v}}(e,r),u=l?t/2:i/2,d=s+h/100*a;return l&&(d=-1*d+a+2*s),{x:l?u:d,y:l?d:u}}(e,n),h=function bt(e,r){var n=r.hsv,t=r.rgb;switch(e.sliderType){case"red":return[[0,"rgb(0,"+t.g+","+t.b+")"],[100,"rgb(255,"+t.g+","+t.b+")"]];case"green":return[[0,"rgb("+t.r+",0,"+t.b+")"],[100,"rgb("+t.r+",255,"+t.b+")"]];case"blue":return[[0,"rgb("+t.r+","+t.g+",0)"],[100,"rgb("+t.r+","+t.g+",255)"]];case"alpha":return[[0,"rgba("+t.r+","+t.g+","+t.b+",0)"],[100,"rgb("+t.r+","+t.g+","+t.b+")"]];case"kelvin":for(var i=[],a=e.minTemperature,s=e.maxTemperature,h=s-a,u=a,d=0;u<s;u+=h/8,d+=1){var c=j.kelvinToRgb(u);i.push([12.5*d,"rgb("+c.r+","+c.g+","+c.b+")"])}return i;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var b=j.hsvToHsl({h:n.h,s:0,v:n.v}),k=j.hsvToHsl({h:n.h,s:100,v:n.v});return[[0,"hsl("+b.h+","+b.s+"%,"+b.l+"%)"],[100,"hsl("+k.h+","+k.s+"%,"+k.l+"%)"]];default:var x=j.hsvToHsl({h:n.h,s:n.s,v:100});return[[0,"#000"],[100,"hsl("+x.h+","+x.s+"%,"+x.l+"%)"]]}}(e,n);return p(q,Object.assign({},e,{onInput:function u(d,c,f){var g=function mt(e,r,n){var s,t=de(e),i=t.handleRange,a=t.handleStart;s="horizontal"===e.layoutDirection?-1*n+i+a:r-a,s=Math.max(Math.min(s,i),0);var l=Math.round(100/i*s);switch(e.sliderType){case"kelvin":var h=e.minTemperature;return h+l/100*(e.maxTemperature-h);case"alpha":return l/100;case"hue":return 3.6*l;case"red":case"blue":case"green":return 2.55*l;default:return l}}(e,d,c);e.parent.inputActive=!0,n[e.sliderType]=g,e.onInput(f,e.id)}}),function(d,c,f){return p("div",Object.assign({},c,{className:"IroSlider",style:Object.assign({},{position:"relative",width:C(i),height:C(a),borderRadius:C(s),background:"conic-gradient(#ccc 25%, #fff 0 50%, #ccc 0 75%, #fff 0)",backgroundSize:"8px 8px"},f)}),p("div",{className:"IroSliderGradient",style:Object.assign({},{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:C(s),background:_e("linear","horizontal"===e.layoutDirection?"to top":"to right",h)},ve(e))}),p(H,{isActive:!0,index:n.index,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:l.x,y:l.y}))})}function Le(e){var n=K(e).width,t=e.colors,a=e.parent,s=e.color,l=s.hsv,h=t.map(function(c){return function xt(e,r){var n=r.hsv,t=K(e),i=t.cx,a=t.cy,s=Ve(e),l=(180+Ue(e,n.h,!0))*(Re/360),h=n.s/100*s,u="clockwise"===e.wheelDirection?-1:1;return{x:i+h*Math.cos(l)*u,y:a+h*Math.sin(l)*u}}(e,c)}),u={position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",boxSizing:"border-box"};return p(q,Object.assign({},e,{onInput:function d(c,f,g){if(0===g){if(!function yt(e,r,n){var t=K(e),s=e.width/2;return Oe(t.cx-r,t.cy-n)<s}(e,c,f))return!1;var m=He(e,c,f,h);null!==m?a.setActiveColor(m):(a.inputActive=!0,s.hsv=De(e,c,f),e.onInput(g,e.id))}else 1===g&&(a.inputActive=!0,s.hsv=De(e,c,f));e.onInput(g,e.id)}}),function(c,f,g){return p("div",Object.assign({},f,{className:"IroWheel",style:Object.assign({},{width:C(n),height:C(n),position:"relative"},g)}),p("div",{className:"IroWheelHue",style:Object.assign({},u,{transform:"rotateZ("+(e.wheelAngle+90)+"deg)",background:"clockwise"===e.wheelDirection?"conic-gradient(red, yellow, lime, aqua, blue, magenta, red)":"conic-gradient(red, magenta, blue, aqua, lime, yellow, red)"})}),p("div",{className:"IroWheelSaturation",style:Object.assign({},u,{background:"radial-gradient(circle closest-side, #fff, transparent)"})}),e.wheelLightness&&p("div",{className:"IroWheelLightness",style:Object.assign({},u,{background:"#000",opacity:1-l.v/100})}),p("div",{className:"IroWheelBorder",style:Object.assign({},u,ve(e))}),t.filter(function(m){return m!==s}).map(function(m){return p(H,{isActive:!1,index:m.index,fill:m.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:h[m.index].x,y:h[m.index].y})}),p(H,{isActive:!0,index:s.index,fill:s.hslString,r:e.activeHandleRadius||e.handleRadius,url:e.handleSvg,props:e.handleProps,x:h[s.index].x,y:h[s.index].y}))})}H.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}},ee.defaultProps=Object.assign({},{sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3});var $e=function(e){function r(n){var t=this;e.call(this,n),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=n.id,(n.colors.length>0?n.colors:[n.color]).forEach(function(a){return t.addColor(a)}),this.setActiveColor(0),this.state=Object.assign({},n,{color:this.color,colors:this.colors,layout:n.layout})}return e&&(r.__proto__=e),(r.prototype=Object.create(e&&e.prototype)).constructor=r,r.prototype.addColor=function(t,i){void 0===i&&(i=this.colors.length);var a=new j(t,this.onColorChange.bind(this));this.colors.splice(i,0,a),this.colors.forEach(function(s,l){return s.index=l}),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",a)},r.prototype.removeColor=function(t){var i=this.colors.splice(t,1)[0];i.unbind(),this.colors.forEach(function(a,s){return a.index=s}),this.state&&this.setState({colors:this.colors}),i.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",i)},r.prototype.setActiveColor=function(t){this.color=this.colors[t],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},r.prototype.setColors=function(t,i){var a=this;void 0===i&&(i=0),this.colors.forEach(function(s){return s.unbind()}),this.colors=[],t.forEach(function(s){return a.addColor(s)}),this.setActiveColor(i),this.emit("color:setAll",this.colors)},r.prototype.on=function(t,i){var a=this,s=this.events;(Array.isArray(t)?t:[t]).forEach(function(l){(s[l]||(s[l]=[])).push(i),a.deferredEvents[l]&&(a.deferredEvents[l].forEach(function(h){i.apply(null,h)}),a.deferredEvents[l]=[])})},r.prototype.off=function(t,i){var a=this;(Array.isArray(t)?t:[t]).forEach(function(s){var l=a.events[s];l&&l.splice(l.indexOf(i),1)})},r.prototype.emit=function(t){for(var i=this,a=[],s=arguments.length-1;s-- >0;)a[s]=arguments[s+1];var l=this.activeEvents;l.hasOwnProperty(t)&&l[t]||(l[t]=!0,(this.events[t]||[]).forEach(function(d){return d.apply(i,a)}),l[t]=!1)},r.prototype.deferredEmit=function(t){for(var i,a=[],s=arguments.length-1;s-- >0;)a[s]=arguments[s+1];var l=this.deferredEvents;(i=this).emit.apply(i,[t].concat(a)),(l[t]||(l[t]=[])).push(a)},r.prototype.setOptions=function(t){this.setState(t)},r.prototype.resize=function(t){this.setOptions({width:t})},r.prototype.reset=function(){this.colors.forEach(function(t){return t.reset()}),this.setState({colors:this.colors})},r.prototype.onMount=function(t){this.el=t,this.deferredEmit("mount",this)},r.prototype.onColorChange=function(t,i){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",t,i)),this.emit("color:change",t,i)},r.prototype.emitInputEvent=function(t,i){0===t?this.emit("input:start",this.color,i):1===t?this.emit("input:move",this.color,i):2===t&&this.emit("input:end",this.color,i)},r.prototype.render=function(t,i){var a=this,s=i.layout;return Array.isArray(s)||(s=[{component:Le},{component:ee}],i.transparency&&s.push({component:ee,options:{sliderType:"alpha"}})),p("div",{class:"IroColorPicker",id:i.id,style:{display:i.display}},s.map(function(l,h){return p(l.component,Object.assign({},i,l.options,{ref:void 0,onInput:a.emitInputEvent.bind(a),parent:a,index:h}))}))},r}($);$e.defaultProps=Object.assign({},{width:300,height:300,color:"#fff",colors:[],padding:6,layoutDirection:"vertical",borderColor:"#fff",borderWidth:0,handleRadius:8,activeHandleRadius:null,handleSvg:null,handleProps:{x:0,y:0},wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderSize:null,sliderMargin:12,boxHeight:null},{colors:[],display:"block",id:null,layout:"default",margin:null});var me,e,n,At=function Mt(e){var r=function(n,t){var i,a=document.createElement("div");function s(){var l=n instanceof Element?n:document.querySelector(n);l.appendChild(i.base),i.onMount(l)}return function tt(e,r,n){var t,i,a;w.__p&&w.__p(e,r),i=(t=n===we)?null:n&&n.__k||r.__k,e=p(J,null,[e]),a=[],he(r,t?r.__k=e:(n||r).__k=e,i||N,N,void 0!==r.ownerSVGElement,n&&!t?[n]:i?null:se.slice.call(r.childNodes),a,!1,n||N,t),Se(a,e)}(p(e,Object.assign({},{ref:function(l){return i=l}},t)),a),"loading"!==document.readyState?s():document.addEventListener("DOMContentLoaded",s),i};return r.prototype=e.prototype,Object.assign(r,e),r.__component=e,r}($e);(e=me||(me={})).version="5.5.2",e.Color=j,e.ColorPicker=At,(n=e.ui||(e.ui={})).h=p,n.ComponentBase=q,n.Handle=H,n.Slider=ee,n.Wheel=Le,n.Box=function St(e){var r=fe(e),n=r.width,t=r.height,i=r.radius,a=e.colors,s=e.parent,l=e.activeIndex,h=void 0!==l&&l<e.colors.length?e.colors[l]:e.color,u=function kt(e,r){return[[[0,"#fff"],[100,"hsl("+r.hue+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]}(0,h),d=a.map(function(f){return function Ct(e,r){var n=fe(e),a=n.radius,s=r.hsv,u=n.height-2*a;return{x:a+s.s/100*(n.width-2*a),y:a+(u-s.v/100*u)}}(e,f)});return p(q,Object.assign({},e,{onInput:function c(f,g,m){if(0===m){var b=He(e,f,g,d);null!==b?s.setActiveColor(b):(s.inputActive=!0,h.hsv=Ze(e,f,g),e.onInput(m,e.id))}else 1===m&&(s.inputActive=!0,h.hsv=Ze(e,f,g));e.onInput(m,e.id)}}),function(f,g,m){return p("div",Object.assign({},g,{className:"IroBox",style:Object.assign({},{width:C(n),height:C(t),position:"relative"},m)}),p("div",{className:"IroBox",style:Object.assign({},{width:"100%",height:"100%",borderRadius:C(i)},ve(e),{background:_e("linear","to bottom",u[1])+","+_e("linear","to right",u[0])})}),a.filter(function(b){return b!==h}).map(function(b){return p(H,{isActive:!1,index:b.index,fill:b.hslString,r:e.handleRadius,url:e.handleSvg,props:e.handleProps,x:d[b.index].x,y:d[b.index].y})}),p(H,{isActive:!0,index:h.index,fill:h.hslString,r:e.activeHandleRadius||e.handleRadius,url:e.handleSvg,props:e.handleProps,x:d[h.index].x,y:d[h.index].y}))})};const te=me;let Rt=(()=>{var e;class r{constructor(t,i){this.translate=t,this.controlService=i}ngOnChanges(){this.ColorPicker&&this.ColorPicker.color.set(this.color_picker_vm.rgb)}ngOnInit(){this.ColorPicker=te.ColorPicker(".picker",{width:280,color:this.color_picker_vm.rgb,borderWidth:8,borderColor:"#232425",handleRadius:10,layout:[{component:te.ui.Wheel}]}),this.ColorPicker.on("color:change",t=>{this.updateColor(t)})}updateColor(t){let i="hsv("+Math.round(t.hsv.h)+","+Math.round(t.hsv.s)+","+this.color_picker_vm.position+")";this.controlService.updateControl(this.color_picker_vm.subControl,i)}}return(e=r).\u0275fac=function(t){return new(t||e)(o.Y36(P.sK),o.Y36(L.B))},e.\u0275cmp=o.Xpm({type:e,selectors:[["element-color-rgb-picker-view"]],inputs:{color_picker_vm:"color_picker_vm"},features:[o.TTD],decls:1,vars:0,consts:[[1,"picker"]],template:function(t,i){1&t&&o._UZ(0,"div",0)}}),r})(),Ot=(()=>{var e;class r{constructor(t,i){this.translate=t,this.controlService=i}ngOnChanges(){this.TempPicker&&this.TempPicker.color.set(this.color_picker_vm.rgb)}ngOnInit(){this.TempPicker=te.ColorPicker(".picker",{width:280,borderWidth:8,borderColor:"#232425",handleRadius:10,layoutDirection:"horizontal",layout:[{component:te.ui.Slider,options:{sliderShape:"circle",sliderType:"kelvin"}}]}),this.TempPicker.on("color:change",t=>{this.updateColor(t)})}updateColor(t){let i="hsv("+Math.round(t.hsv.h)+","+Math.round(t.hsv.s)+","+this.color_picker_vm.position+")";this.controlService.updateControl(this.color_picker_vm.subControl,i)}}return(e=r).\u0275fac=function(t){return new(t||e)(o.Y36(P.sK),o.Y36(L.B))},e.\u0275cmp=o.Xpm({type:e,selectors:[["element-color-temp-picker-view"]],inputs:{color_picker_vm:"color_picker_vm"},features:[o.TTD],decls:1,vars:0,consts:[[1,"picker"]],template:function(t,i){1&t&&o._UZ(0,"div",0)}}),r})();const Vt=["class","view"];function Ut(e,r){if(1&e){const n=o.EpF();o.TgZ(0,"ion-row")(1,"ion-col")(2,"div",7),o._UZ(3,"element-color-rgb-picker-view",8),o.TgZ(4,"div",9)(5,"ion-fab-button",10),o.NdJ("click",function(){o.CHM(n);const i=o.oxw(3);return o.KtG(i.toggleMode())}),o.qZA()()()()()}if(2&e){const n=o.oxw().ngIf;o.xp6(3),o.Q6J("color_picker_vm",n)}}function Dt(e,r){if(1&e){const n=o.EpF();o.TgZ(0,"ion-row")(1,"ion-col")(2,"div",7),o._UZ(3,"element-color-temp-picker-view",8),o.TgZ(4,"div",9)(5,"ion-fab-button",11),o.NdJ("click",function(){o.CHM(n);const i=o.oxw(3);return o.KtG(i.toggleMode())}),o.qZA()()()()()}if(2&e){const n=o.oxw().ngIf;o.xp6(3),o.Q6J("color_picker_vm",n)}}function Zt(e,r){if(1&e&&(o.TgZ(0,"ion-grid",5),o.YNc(1,Ut,6,1,"ion-row",3),o.YNc(2,Dt,6,1,"ion-row",3),o.TgZ(3,"ion-row")(4,"ion-col"),o._UZ(5,"card-dimmer-view",6),o.qZA()()()),2&e){const n=r.ngIf,t=o.oxw(2);o.xp6(1),o.Q6J("ngIf",t.mode_rgb),o.xp6(1),o.Q6J("ngIf",!t.mode_rgb),o.xp6(3),o.Q6J("control",n.control)("subControl",n.subControl)}}function Ht(e,r){if(1&e&&(o.ynx(0),o.YNc(1,Zt,6,4,"ion-grid",4),o.ALo(2,"async"),o.BQk()),2&e){const n=o.oxw();o.xp6(1),o.Q6J("ngIf",o.lcZ(2,1,n.vm$))}}function Bt(e,r){if(1&e&&(o.TgZ(0,"ion-grid",5)(1,"ion-row")(2,"ion-col")(3,"div",7),o._UZ(4,"element-color-rgb-picker-view",8),o.qZA()()()()),2&e){const n=r.ngIf;o.xp6(4),o.Q6J("color_picker_vm",n)}}function Lt(e,r){if(1&e&&(o.ynx(0),o.YNc(1,Bt,5,1,"ion-grid",4),o.ALo(2,"async"),o.BQk()),2&e){const n=o.oxw();o.xp6(1),o.Q6J("ngIf",o.lcZ(2,1,n.vm$))}}let $t=(()=>{var e;class r{constructor(t,i){this.translate=t,this.controlService=i,this.segment="color",this.mode_rgb=!0}ngOnInit(){this.initVM()}ngOnDestroy(){}initVM(){null!=this.subControl&&null!=this.control?this.vm$=(0,ie.a)([this.controlService.getControl$(this.control.serialNr,this.control.uuid),this.controlService.getSubControl$(this.control.serialNr,this.control.uuid,this.subControl.uuid)]).pipe((0,oe.U)(([t,i])=>this.updateVM(t,i))):console.error("Component 'control-color-picker-v2' not available for rendering.")}updateVM(t,i){let a=i.states.color.match(/hsv\(([0-9]*),([0-9]*),([0-9]*)\)/),s=Qe.c.hsv2rgb(Number(a[1]),Number(a[2]),100);return{control:t,subControl:i,rgb:{r:s[0],g:s[1],b:s[2]},position:Number(a[3])}}updateSegment(){}toggleMode(){this.mode_rgb=!this.mode_rgb}}return(e=r).\u0275fac=function(t){return new(t||e)(o.Y36(P.sK),o.Y36(L.B))},e.\u0275cmp=o.Xpm({type:e,selectors:[["control-color-picker-v2",8,"view"]],inputs:{control:"control",subControl:"subControl",view:"view"},attrs:Vt,decls:9,vars:9,consts:[[3,"ngModel","ngModelChange","ionChange"],["value","color",1,"segment-button"],["value","sequence",1,"segment-button"],[4,"ngIf"],["class","grid-center",4,"ngIf"],[1,"grid-center"],[3,"control","subControl"],[1,"container"],[3,"color_picker_vm"],[1,"overlay"],[1,"fab_btn_temp",3,"click"],[1,"fab_btn_rgb",3,"click"]],template:function(t,i){1&t&&(o.TgZ(0,"ion-segment",0),o.NdJ("ngModelChange",function(s){return i.segment=s})("ionChange",function(){return i.updateSegment()}),o.TgZ(1,"ion-segment-button",1),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"ion-segment-button",2),o._uU(5),o.ALo(6,"translate"),o.qZA()(),o.YNc(7,Ht,3,3,"ng-container",3),o.YNc(8,Lt,3,3,"ng-container",3)),2&t&&(o.Q6J("ngModel",i.segment),o.xp6(2),o.hij(" ",o.lcZ(3,5,"Color")," "),o.xp6(3),o.hij(" ",o.lcZ(6,7,"Color sequence")," "),o.xp6(2),o.Q6J("ngIf","color"===i.segment),o.xp6(1),o.Q6J("ngIf","sequence"===i.segment))},dependencies:[A.O5,_.wI,_.W4,_.jY,_.Nd,_.cJ,_.GO,_.QI,re.JJ,re.On,Ge.W,Rt,Ot,A.Ov,P.X$]}),r})();var Yt=v(8759),jt=v(3914),Wt=v(689),Qt=v(6353),Gt=v(267),Jt=v(8513),Ft=v(2356),zt=v(5222),Xt=v(7432),Kt=v(7953),qt=v(5427),ne=v(9249),en=v(6676);function tn(e,r){if(1&e&&(o.ynx(0),o.TgZ(1,"ion-item",4)(2,"ion-text",5),o._uU(3),o.qZA(),o.TgZ(4,"ion-text",6),o._uU(5),o.qZA()(),o.BQk()),2&e){const n=r.$implicit;o.xp6(3),o.Oqu(n.time),o.xp6(2),o.Oqu(n.description)}}function nn(e,r){if(1&e&&(o.ynx(0),o.TgZ(1,"ion-list",2)(2,"ion-item",3)(3,"ion-text"),o._uU(4),o.qZA()(),o.YNc(5,tn,6,2,"ng-container",1),o.qZA(),o.BQk()),2&e){const n=r.$implicit,t=o.oxw(2).ngIf,i=o.oxw();o.xp6(4),o.Oqu(i.localDate(n)),o.xp6(1),o.Q6J("ngForOf",t.items[n])}}function rn(e,r){if(1&e&&(o.ynx(0),o.YNc(1,nn,6,2,"ng-container",1),o.BQk()),2&e){const n=o.oxw().ngIf,t=o.oxw();o.xp6(1),o.Q6J("ngForOf",t.getDate(n.items))}}function on(e,r){1&e&&(o.ynx(0),o.TgZ(1,"ion-grid",7)(2,"ion-row",8)(3,"ion-text",9),o._uU(4,"No information"),o.qZA()()(),o.BQk())}function an(e,r){if(1&e&&(o.ynx(0),o.YNc(1,rn,2,1,"ng-container",0),o.YNc(2,on,5,0,"ng-container",0),o.BQk()),2&e){const n=r.ngIf,t=o.oxw();o.xp6(1),o.Q6J("ngIf",t.getSize(n.items)),o.xp6(1),o.Q6J("ngIf",!t.getSize(n.items))}}let sn=(()=>{var e;class r{constructor(t,i,a){this.translate=t,this.controlService=i,this.route=a,this.buttonType=W.W,this.viewType=W.G}ngOnInit(){this.initVM()}ngOnDestroy(){}initVM(){const t=this.route.snapshot.paramMap.get("subControlUuid"),i=this.route.snapshot.paramMap.get("subControlUuidExt");void 0!==this.control?void 0!==t||void 0!==i?this.vm$=(0,ie.a)([this.controlService.getControl$(this.control.serialNr,this.control.uuid),this.controlService.getSubControl$(this.control.serialNr,this.control.uuid,t+"/"+i)]).pipe((0,oe.U)(([a,s])=>this.updateVM(a,s))):console.error("Subcontrol of component 'control-tracker' not available for rendering."):console.error("Component 'control-tracker' not available for rendering.")}updateVM(t,i){if(!i.states.entries)return;const s=i.states.entries.replace(/\x14/g,": ").split("|");let l=[],h=[],u={};s.forEach(c=>{let f=c.split(" ");-1==l.findIndex(m=>m===f[0])&&l.push(f[0]);let g={date:f[0],time:f[1],description:c.substring(c.indexOf(f[1])+f[1].length+1)};h.push(g)});for(let c=l.length-1;c>-1;c--)u[l[c]]=h.filter(f=>f.date===l[c]).sort((f,g)=>g.time.localeCompare(f.time));return{items:u}}getSize(t){return t?Object.keys(t).length:0}getDate(t){return t?Object.keys(t):[]}localDate(t){return en(t).locale(this.translate.currentLang).format("LL")}}return(e=r).\u0275fac=function(t){return new(t||e)(o.Y36(P.sK),o.Y36(L.B),o.Y36(B.gz))},e.\u0275cmp=o.Xpm({type:e,selectors:[["control-tracker-view"]],inputs:{control:"control",view:"view",key:"key"},decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["lines","full",1,"history-list"],[1,"item-header"],[1,"item-body"],[1,"text-time"],[1,"text-descr"],[1,"grid-c"],[1,"row-c"],["translate",""]],template:function(t,i){1&t&&(o.YNc(0,an,3,2,"ng-container",0),o.ALo(1,"async")),2&t&&o.Q6J("ngIf",o.lcZ(1,1,i.vm$))},dependencies:[A.sg,A.O5,_.jY,_.Ie,_.q_,_.Nd,_.yW,P.Pi,A.Ov],styles:[".history-list[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.item-header[_ngcontent-%COMP%]{font-size:18px}.item-body[_ngcontent-%COMP%]{font-size:18px;--background: var(--ion-background-color, #f3f3f3)}.text-time[_ngcontent-%COMP%]{color:var(--ion-color-secondary, #9d9e9e);padding-right:10px}.text-descr[_ngcontent-%COMP%]{position:absolute;left:80px}.grid-c[_ngcontent-%COMP%]{height:100%!important}.row-c[_ngcontent-%COMP%]{height:100%!important;align-items:center!important;justify-content:center!important}"]}),r})();function ln(e,r){if(1&e&&(o.TgZ(0,"h2"),o._uU(1),o.qZA()),2&e){const n=o.oxw().ngIf;o.Udp("color",n.ui.status.color),o.xp6(1),o.hij(" ",n.ui.status.text,"")}}function cn(e,r){if(1&e&&(o.TgZ(0,"ion-card",3)(1,"ion-card-content",4)(2,"ion-item",5),o._UZ(3,"ion-icon",6),o.TgZ(4,"ion-label",7)(5,"h1"),o._uU(6),o.qZA(),o.YNc(7,ln,2,3,"h2",8),o.qZA()()()()),2&e){const n=r.ngIf;o.hYB("routerLink","",n.control.serialNr,"/",n.control.uuid,""),o.xp6(3),o.s9C("color",n.control.icon.color),o.s9C("src",n.control.icon.href),o.xp6(3),o.Oqu(n.control.name),o.xp6(1),o.Q6J("ngIf",""!==n.ui.status.text)}}function un(e,r){if(1&e&&(o.ynx(0),o.YNc(1,cn,8,6,"ion-card",2),o.ALo(2,"async"),o.BQk()),2&e){const n=o.oxw();o.xp6(1),o.Q6J("ngIf",o.lcZ(2,1,n.vm$))}}function hn(e,r){if(1&e&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&e){const n=o.oxw().ngIf;o.xp6(1),o.AsE("",n.ui.room," \u2022 ",n.ui.category,"")}}function dn(e,r){if(1&e&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&e){const n=o.oxw().ngIf;o.xp6(1),o.Oqu(n.ui.room)}}function fn(e,r){if(1&e&&(o.TgZ(0,"p"),o._uU(1),o.qZA()),2&e){const n=o.oxw().ngIf;o.xp6(1),o.Oqu(n.ui.category)}}function gn(e,r){if(1&e&&(o.TgZ(0,"h2"),o._uU(1),o.qZA()),2&e){const n=o.oxw().ngIf;o.Udp("color",n.ui.status.color),o.xp6(1),o.hij(" ",n.ui.status.text,"")}}function vn(e,r){if(1&e&&(o.TgZ(0,"ion-card",10)(1,"ion-card-header",11)(2,"ion-item",5),o._UZ(3,"ion-icon",6)(4,"ion-label"),o.qZA()(),o.TgZ(5,"ion-card-content",4)(6,"ion-item",5)(7,"ion-label",12),o.YNc(8,hn,2,2,"p",0),o.YNc(9,dn,2,1,"p",0),o.YNc(10,fn,2,1,"p",0),o.TgZ(11,"h1"),o._uU(12),o.qZA(),o.YNc(13,gn,2,3,"h2",8),o.qZA()()()()),2&e){const n=r.ngIf,t=o.oxw(2);o.hYB("routerLink","",n.control.serialNr,"/",n.control.uuid,""),o.xp6(3),o.s9C("color",n.control.icon.color),o.s9C("src",n.control.icon.href),o.xp6(5),o.Q6J("ngIf","home"===t.key),o.xp6(1),o.Q6J("ngIf","room"===t.key),o.xp6(1),o.Q6J("ngIf","category"===t.key),o.xp6(2),o.Oqu(n.control.name),o.xp6(1),o.Q6J("ngIf",""!==n.ui.status.text)}}function _n(e,r){if(1&e&&(o.ynx(0),o.YNc(1,vn,14,9,"ion-card",9),o.ALo(2,"async"),o.BQk()),2&e){const n=o.oxw();o.xp6(1),o.Q6J("ngIf",o.lcZ(2,1,n.vm$))}}function mn(e,r){1&e&&(o.ynx(0,13),o.TgZ(1,"ion-grid",14)(2,"ion-row",15)(3,"ion-text",16),o._uU(4,"Control not defined"),o.qZA()()(),o.BQk())}let pn=(()=>{var e;class r{constructor(t,i){this.translate=t,this.controlService=i,this.viewType=W.G}ngOnInit(){this.initVM()}ngOnDestroy(){}initVM(){null!=this.control?this.vm$=(0,ie.a)([this.controlService.getControl$(this.control.serialNr,this.control.uuid),this.controlService.categories$,this.controlService.rooms$]).pipe((0,oe.U)(([t,i,a])=>this.updateVM(t,i,a))):console.error("Component 'control-unknown' not available for rendering.")}updateVM(t,i,a){let s=a.find(u=>u.uuid===t.room&&u.serialNr===t.serialNr),l=i.find(u=>u.uuid===t.category&&u.serialNr===t.serialNr);return{control:t,ui:{name:t.name,room:s&&s.name?s.name:"unknown",category:l&&l.name?l.name:"unknown",status:{text:"",color:"primary"}}}}}return(e=r).\u0275fac=function(t){return new(t||e)(o.Y36(P.sK),o.Y36(L.B))},e.\u0275cmp=o.Xpm({type:e,selectors:[["control-unknown-view"]],inputs:{control:"control",view:"view",key:"key"},decls:3,vars:3,consts:[[4,"ngIf"],["class","ion-padding",4,"ngIf"],["class","card",3,"routerLink",4,"ngIf"],[1,"card",3,"routerLink"],[1,"card-content"],[1,"item"],[1,"icon",3,"color","src"],[1,"label","label-listitem"],[3,"color",4,"ngIf"],["class","card card-fav",3,"routerLink",4,"ngIf"],[1,"card","card-fav",3,"routerLink"],[1,"card-header"],[1,"label","label-fav"],[1,"ion-padding"],[1,"grid-c"],[1,"row-c"],["translate",""]],template:function(t,i){1&t&&(o.YNc(0,un,3,3,"ng-container",0),o.YNc(1,_n,3,3,"ng-container",0),o.YNc(2,mn,5,0,"ng-container",1)),2&t&&(o.Q6J("ngIf",i.view===i.viewType.LIST_ITEM),o.xp6(1),o.Q6J("ngIf",i.view===i.viewType.FAVORITE),o.xp6(1),o.Q6J("ngIf",i.view===i.viewType.DETAILED))},dependencies:[A.O5,_.PM,_.FN,_.Zi,_.jY,_.gu,_.Ie,_.Q$,_.Nd,_.yW,_.YI,B.rH,P.Pi,A.Ov],styles:[".grid-c[_ngcontent-%COMP%]{height:100%!important}.row-c[_ngcontent-%COMP%]{height:100%!important;align-items:center!important;justify-content:center!important}"]}),r})();var bn=v(9460),wn=v(3415);const yn=["viewcontainer"];function xn(e,r){1&e&&o._UZ(0,"ion-back-button")}function Cn(e,r){1&e&&o._UZ(0,"ion-back-button",4)}let Ye=(()=>{var e;class r{constructor(t,i,a,s){this.translate=t,this.route=i,this.controlService=a,this.ionRouterOutlet=s,this.viewType=W.G,this.ViewMap={Alarm:je.a,CentralLightController:We.x,ColorPickerV2:$t,Daytimer:Yt.j,Fronius:jt.p,InfoOnlyAnalog:ne.v,InfoOnlyDigital:ne.v,InfoOnlyText:ne.v,Intercom:Wt.h,IRoomController:Qt.p,Jalousie:Gt.f,LightControllerV2:Jt.M,Pushbutton:Ft.k,Radio:zt.d,Slider:Xt.B,SmokeAlarm:Kt.e,Switch:qt.z,TextState:ne.v,Tracker:sn,Unknown:pn,UpDownDigital:bn.y,Webpage:wn.b}}ngOnInit(){this.canGoBack=this.ionRouterOutlet.canGoBack(),this.initVM()}ngOnDestroy(){this.viewContainer.clear(),this.componentRef=-1,this.controlSubscription.unsubscribe(),this.roomSubscription.unsubscribe()}initVM(){const t=this.route.snapshot.paramMap.get("controlSerialNr"),i=this.route.snapshot.paramMap.get("controlUuid"),a=this.route.snapshot.paramMap.get("subControlUuid"),s=this.route.snapshot.paramMap.get("subControlUuidExt");this.roomSubscription=this.controlService.rooms$.subscribe(l=>{this.rooms=l}),this.controlSubscription=this.controlService.getControl$(t,i).subscribe(l=>{if(!l)return;this.control=l;let h=this.rooms.find(u=>u.uuid===l.room&&u.serialNr===l.serialNr);switch(l.type){case"IRoomController":this.page_name=l.name===this.translate.instant("IRoomController")||l.name===this.translate.instant("IRoomController_")?this.translate.instant("Thermostat"):l.name;break;case"LightControllerV2":this.page_name=l.name!==this.translate.instant("Lightcontroller")&&l.name!==this.translate.instant("LightcontrollerV2")||null==h?l.name:h.name;break;default:this.page_name=l.name}!a&&!s&&this.loadControlComponent(l,null,l.type)}),a&&s&&this.controlService.getSubControl$(t,i,a+"/"+s).subscribe(l=>{l&&(this.page_name="sensors"===s?this.translate.instant("History"):l.name,this.control&&this.loadControlComponent(this.control,l,l.type))})}loadControlComponent(t,i,a){this.componentRef||(this.componentRef=this.viewContainer.createComponent(this.getControlView(a)),this.componentRef.instance.control=t,this.componentRef.instance.view=W.G.DETAILED,null!=i&&(this.componentRef.instance.subControl=i))}getControlView(t){return this.ViewMap[t]?this.ViewMap[t]:this.ViewMap.Unknown}}return(e=r).\u0275fac=function(t){return new(t||e)(o.Y36(P.sK),o.Y36(B.gz),o.Y36(L.B),o.Y36(_.jP))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-detailed-control"]],viewQuery:function(t,i){if(1&t&&o.Gf(yn,7,o.s_b),2&t){let a;o.iGM(a=o.CRH())&&(i.viewContainer=a.first)}},decls:10,vars:3,consts:[["slot","start"],[4,"ngIf"],["defaultHref","/",4,"ngIf"],["viewcontainer",""],["defaultHref","/"]],template:function(t,i){1&t&&(o.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o.YNc(3,xn,1,0,"ion-back-button",1),o.YNc(4,Cn,1,0,"ion-back-button",2),o.qZA(),o.TgZ(5,"ion-title"),o._uU(6),o.qZA()()(),o.TgZ(7,"ion-content"),o.GkF(8,null,3),o.qZA()),2&t&&(o.xp6(3),o.Q6J("ngIf",i.canGoBack),o.xp6(1),o.Q6J("ngIf",!i.canGoBack),o.xp6(2),o.hij(" ",i.page_name," "))},dependencies:[_.oU,_.Sm,_.W2,_.Gu,_.wd,_.sr,_.cs,A.O5]}),r})();const kn=[{path:"",component:Ye}];let Tn=(()=>{var e;class r{}return(e=r).\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[B.Bz.forChild(kn),B.Bz]}),r})();var In=v(6592);let Sn=(()=>{var e;class r{}return(e=r).\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[_.Pc,A.ez,re.u5,B.Bz.forChild([{path:"",component:Ye}]),Tn,In.Y,P.aw]}),r})()}}]);