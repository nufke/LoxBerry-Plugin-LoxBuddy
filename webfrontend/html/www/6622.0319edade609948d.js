"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6622],{6622:(k,d,c)=>{c.r(d),c.d(d,{NotificationsPageModule:()=>I});var u=c(6814),_=c(6223),a=c(7027),m=c(9515),f=c(6089),N=c(7398),h=c(6676),t=c(5879),P=c(711);function v(n,o){1&n&&t._UZ(0,"ion-back-button",5)}function O(n,o){1&n&&t._UZ(0,"ion-back-button",6)}function b(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"ion-item",10)(2,"ion-text",11),t._uU(3),t.qZA(),t.TgZ(4,"ion-text",12)(5,"h1"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.qZA()()(),t.BQk()),2&n){const i=o.$implicit,e=t.oxw(4);t.xp6(3),t.Oqu(e.getTime(i.ts)),t.xp6(3),t.Oqu(i.title),t.xp6(2),t.Oqu(i.message)}}function y(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"ion-list",8)(2,"ion-item",9)(3,"ion-text"),t._uU(4),t.qZA()(),t.YNc(5,b,9,3,"ng-container",7),t.qZA(),t.BQk()),2&n){const i=o.$implicit,e=t.oxw(2).ngIf;t.xp6(4),t.Oqu(i),t.xp6(1),t.Q6J("ngForOf",e.items[i])}}function M(n,o){if(1&n&&(t.ynx(0),t.YNc(1,y,6,2,"ng-container",7),t.BQk()),2&n){const i=t.oxw().ngIf,e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.getDates(i.items))}}function Z(n,o){1&n&&(t.ynx(0),t.TgZ(1,"ion-grid",13)(2,"ion-row",14)(3,"ion-text",3),t._uU(4,"No notifications"),t.qZA()()(),t.BQk())}function T(n,o){if(1&n&&(t.ynx(0),t.YNc(1,M,2,1,"ng-container",4),t.YNc(2,Z,5,0,"ng-container",4),t.BQk()),2&n){const i=o.ngIf,e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.getSize(i.items)),t.xp6(1),t.Q6J("ngIf",!e.getSize(i.items))}}const U=[{path:"",component:(()=>{var n;class o{constructor(e,r,l,x){this.ionRouterOutlet=e,this.router=r,this.dataService=l,this.translate=x}ngOnInit(){this.canGoBack=this.ionRouterOutlet.canGoBack(),this.currentUrl=this.router.url,this.routerEventsSubscription=this.router.events.subscribe(e=>{e instanceof f.m2&&(this.previousUrl=this.currentUrl,this.currentUrl=e.url)}),this.vm$=this.dataService.notifications$.pipe((0,N.U)(e=>this.updateVM(e)))}updateVM(e){let r=[],l={};e.forEach(s=>{let g=this.getDate(s.ts);-1==r.findIndex(p=>p===g)&&r.push(g)});for(let s=r.length-1;s>-1;s--)l[r[s]]=e.filter(g=>this.getDate(g.ts)===r[s]).sort((g,p)=>Number(p.ts)-Number(g.ts));return{items:l}}getDate(e){return h(1e3*Number(e)).locale(this.translate.currentLang).format("LL")}getTime(e){return h(1e3*Number(e)).locale(this.translate.currentLang).format("LT")}getDates(e){return e?Object.keys(e):[]}getSize(e){return e?Object.keys(e).length:0}ngOnDestroy(){this.routerEventsSubscription.unsubscribe()}}return(n=o).\u0275fac=function(e){return new(e||n)(t.Y36(a.jP),t.Y36(f.F0),t.Y36(P.D),t.Y36(m.sK))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-notifications"]],decls:10,vars:5,consts:[["slot","start"],["defaultHref","previousUrl",4,"ngIf"],["defaultHref","/",4,"ngIf"],["translate",""],[4,"ngIf"],["defaultHref","previousUrl"],["defaultHref","/"],[4,"ngFor","ngForOf"],["lines","full",1,"history-list"],[1,"item-header"],[1,"item-body"],[1,"text-time"],[1,"text-message"],[1,"grid-c"],[1,"row-c"]],template:function(e,r){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t.YNc(3,v,1,0,"ion-back-button",1),t.YNc(4,O,1,0,"ion-back-button",2),t.qZA(),t.TgZ(5,"ion-title",3),t._uU(6,"Notifications"),t.qZA()()(),t.TgZ(7,"ion-content"),t.YNc(8,T,3,2,"ng-container",4),t.ALo(9,"async"),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngIf",r.canGoBack),t.xp6(1),t.Q6J("ngIf",!r.canGoBack),t.xp6(4),t.Q6J("ngIf",t.lcZ(9,3,r.vm$)))},dependencies:[u.sg,u.O5,a.oU,a.Sm,a.W2,a.jY,a.Gu,a.Ie,a.q_,a.Nd,a.yW,a.wd,a.sr,a.cs,m.Pi,u.Ov],styles:[".history-list[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}.item-header[_ngcontent-%COMP%]{font-size:18px}.item-body[_ngcontent-%COMP%]{font-size:18px;--background: var(--ion-background-color, #f3f3f3)}.text-time[_ngcontent-%COMP%]{color:var(--ion-color-secondary, #9d9e9e);padding-right:10px}.text-message[_ngcontent-%COMP%]{position:absolute;left:55px}.text-message[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:18px}.text-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--ion-color-secondary, #9d9e9e)}.grid-c[_ngcontent-%COMP%]{height:100%!important}.row-c[_ngcontent-%COMP%]{height:100%!important;align-items:center!important;justify-content:center!important}"]}),o})()}];let C=(()=>{var n;class o{}return(n=o).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[f.Bz.forChild(U),f.Bz]}),o})(),I=(()=>{var n;class o{}return(n=o).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.ez,_.u5,a.Pc,C,m.aw]}),o})()}}]);