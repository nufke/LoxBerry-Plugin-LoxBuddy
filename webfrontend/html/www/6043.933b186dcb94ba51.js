"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6043],{6043:(Fn,Q,c)=>{c.r(Q),c.d(Q,{ControlsPageModule:()=>Sn});var a=c(7027),y=c(6089),w=c(6814),C=c(6223),m=c(9515),J=c(2572),v=c(7398),d=c(6308),n=c(5879),h=c(4898),P=c(7066),Z=c(4403),N=c(8759),Y=c(3914),B=c(689),U=c(6353),$=c(267),A=c(8513),S=c(2356),F=c(5222),E=c(7432),L=c(7953),M=c(5427),O=c(9249),R=c(9460),V=c(3415);function b(t,i){1&t&&n._UZ(0,"ion-back-button")}function z(t,i){1&t&&n._UZ(0,"ion-menu-button",5)}function D(t,i){if(1&t&&n._UZ(0,"ion-back-button",6),2&t){const o=n.oxw();n.MGl("defaultHref","/",o.cat,"")}}function H(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-irc-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(3);n.xp6(1),n.Q6J("control",o)("view",e.viewType.FAVORITE)("key",e.key)}}function j(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-light-v2-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(3);n.xp6(1),n.Q6J("control",o)("view",e.viewType.FAVORITE)("key",e.key)}}function G(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-pushbutton-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(3);n.xp6(1),n.Q6J("control",o)("view",e.viewType.FAVORITE)("key",e.key)}}function W(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-slider-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(3);n.xp6(1),n.Q6J("control",o)("view",e.viewType.FAVORITE)("key",e.key)}}function K(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-switch-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(3);n.xp6(1),n.Q6J("control",o)("view",e.viewType.FAVORITE)("key",e.key)}}function X(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-radio-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(3);n.xp6(1),n.Q6J("control",o)("view",e.viewType.FAVORITE)("key",e.key)}}function q(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-up-down-digital-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(3);n.xp6(1),n.Q6J("control",o)("view",e.viewType.FAVORITE)("key",e.key)}}function nn(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-jalousie-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(3);n.xp6(1),n.Q6J("control",o)("view",e.viewType.FAVORITE)("key",e.key)}}function on(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-webpage-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(3);n.xp6(1),n.Q6J("control",o)("view",e.viewType.FAVORITE)("key",e.key)}}function tn(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-central-light-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(3);n.xp6(1),n.Q6J("control",o)("view",e.viewType.FAVORITE)("key",e.key)}}function en(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-alarm-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(3);n.xp6(1),n.Q6J("control",o)("view",e.viewType.FAVORITE)("key",e.key)}}function cn(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-daytimer-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(3);n.xp6(1),n.Q6J("control",o)("view",e.viewType.FAVORITE)("key",e.key)}}function _n(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-smokealarm-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(3);n.xp6(1),n.Q6J("control",o)("view",e.viewType.FAVORITE)("key",e.key)}}function rn(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-fronius-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(3);n.xp6(1),n.Q6J("control",o)("view",e.viewType.FAVORITE)("key",e.key)}}function ln(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-intercom-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(3);n.xp6(1),n.Q6J("control",o)("view",e.viewType.FAVORITE)("key",e.key)}}function an(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-text-state-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(3);n.xp6(1),n.Q6J("control",o)("view",e.viewType.FAVORITE)("key",e.key)}}function gn(t,i){if(1&t&&(n.TgZ(0,"ion-col",9),n.YNc(1,H,2,3,"ng-container",1),n.YNc(2,j,2,3,"ng-container",1),n.YNc(3,G,2,3,"ng-container",1),n.YNc(4,W,2,3,"ng-container",1),n.YNc(5,K,2,3,"ng-container",1),n.YNc(6,X,2,3,"ng-container",1),n.YNc(7,q,2,3,"ng-container",1),n.YNc(8,nn,2,3,"ng-container",1),n.YNc(9,on,2,3,"ng-container",1),n.YNc(10,tn,2,3,"ng-container",1),n.YNc(11,en,2,3,"ng-container",1),n.YNc(12,cn,2,3,"ng-container",1),n.YNc(13,_n,2,3,"ng-container",1),n.YNc(14,rn,2,3,"ng-container",1),n.YNc(15,ln,2,3,"ng-container",1),n.YNc(16,an,2,3,"ng-container",1),n.qZA()),2&t){const o=i.$implicit;n.xp6(1),n.Q6J("ngIf","IRoomController"===o.type),n.xp6(1),n.Q6J("ngIf","LightControllerV2"===o.type),n.xp6(1),n.Q6J("ngIf","Pushbutton"===o.type),n.xp6(1),n.Q6J("ngIf","Slider"===o.type),n.xp6(1),n.Q6J("ngIf","Switch"===o.type),n.xp6(1),n.Q6J("ngIf","Radio"===o.type),n.xp6(1),n.Q6J("ngIf","UpDownDigital"===o.type),n.xp6(1),n.Q6J("ngIf","Jalousie"===o.type),n.xp6(1),n.Q6J("ngIf","Wepage"===o.type),n.xp6(1),n.Q6J("ngIf","CentralLightController"===o.type),n.xp6(1),n.Q6J("ngIf","Alarm"===o.type),n.xp6(1),n.Q6J("ngIf","Daytimer"===o.type),n.xp6(1),n.Q6J("ngIf","SmokeAlarm"===o.type),n.xp6(1),n.Q6J("ngIf","Fronius"===o.type),n.xp6(1),n.Q6J("ngIf","Intercom"===o.type),n.xp6(1),n.Q6J("ngIf","IRoomController"!==o.type&&"LightControllerV2"!==o.type&&"Pushbutton"!==o.type&&"Slider"!==o.type&&"Switch"!==o.type&&"Radio"!==o.type&&"UpDownDigital"!==o.type&&"Jalousie"!==o.type&&"Webpage"!==o.type&&"CentralLightController"!==o.type&&"Alarm"!==o.type&&"Daytimer"!==o.type&&"SmokeAlarm"!==o.type&&"Fronius"!==o.type&&"Intercom"!==o.type)}}function sn(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"ion-row")(2,"ion-label",7)(3,"p",4),n._uU(4,"Favorites"),n.qZA()()(),n.TgZ(5,"ion-row"),n.YNc(6,gn,17,16,"ion-col",8),n.qZA(),n.BQk()),2&t){const o=n.oxw().ngIf;n.xp6(6),n.Q6J("ngForOf",o.favorites)}}function pn(t,i){if(1&t&&(n.TgZ(0,"ion-row")(1,"ion-label",7)(2,"p"),n._uU(3),n.qZA()()()),2&t){const o=n.oxw().$implicit;n.xp6(3),n.Oqu(o.name)}}function xn(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-irc-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(4);n.xp6(1),n.Q6J("control",o)("view",e.viewType.LIST_ITEM)("key",e.key)}}function yn(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-light-v2-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(4);n.xp6(1),n.Q6J("control",o)("view",e.viewType.LIST_ITEM)("key",e.key)}}function wn(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-pushbutton-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(4);n.xp6(1),n.Q6J("control",o)("view",e.viewType.LIST_ITEM)("key",e.key)}}function fn(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-slider-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(4);n.xp6(1),n.Q6J("control",o)("view",e.viewType.LIST_ITEM)("key",e.key)}}function mn(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-switch-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(4);n.xp6(1),n.Q6J("control",o)("view",e.viewType.LIST_ITEM)("key",e.key)}}function vn(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-radio-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(4);n.xp6(1),n.Q6J("control",o)("view",e.viewType.LIST_ITEM)("key",e.key)}}function Tn(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-up-down-digital-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(4);n.xp6(1),n.Q6J("control",o)("view",e.viewType.LIST_ITEM)("key",e.key)}}function un(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-jalousie-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(4);n.xp6(1),n.Q6J("control",o)("view",e.viewType.LIST_ITEM)("key",e.key)}}function Qn(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-webpage-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(4);n.xp6(1),n.Q6J("control",o)("view",e.viewType.LIST_ITEM)("key",e.key)}}function In(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-central-light-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(4);n.xp6(1),n.Q6J("control",o)("view",e.viewType.LIST_ITEM)("key",e.key)}}function kn(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-alarm-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(4);n.xp6(1),n.Q6J("control",o)("view",e.viewType.LIST_ITEM)("key",e.key)}}function Cn(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-daytimer-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(4);n.xp6(1),n.Q6J("control",o)("view",e.viewType.LIST_ITEM)("key",e.key)}}function Jn(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-smokealarm-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(4);n.xp6(1),n.Q6J("control",o)("view",e.viewType.LIST_ITEM)("key",e.key)}}function dn(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-fronius-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(4);n.xp6(1),n.Q6J("control",o)("view",e.viewType.LIST_ITEM)("key",e.key)}}function hn(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-intercom-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(4);n.xp6(1),n.Q6J("control",o)("view",e.viewType.LIST_ITEM)("key",e.key)}}function Pn(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"control-text-state-view",10),n.BQk()),2&t){const o=n.oxw().$implicit,e=n.oxw(4);n.xp6(1),n.Q6J("control",o)("view",e.viewType.LIST_ITEM)("key",e.key)}}function Zn(t,i){if(1&t&&(n.TgZ(0,"ion-col",13),n.YNc(1,xn,2,3,"ng-container",1),n.YNc(2,yn,2,3,"ng-container",1),n.YNc(3,wn,2,3,"ng-container",1),n.YNc(4,fn,2,3,"ng-container",1),n.YNc(5,mn,2,3,"ng-container",1),n.YNc(6,vn,2,3,"ng-container",1),n.YNc(7,Tn,2,3,"ng-container",1),n.YNc(8,un,2,3,"ng-container",1),n.YNc(9,Qn,2,3,"ng-container",1),n.YNc(10,In,2,3,"ng-container",1),n.YNc(11,kn,2,3,"ng-container",1),n.YNc(12,Cn,2,3,"ng-container",1),n.YNc(13,Jn,2,3,"ng-container",1),n.YNc(14,dn,2,3,"ng-container",1),n.YNc(15,hn,2,3,"ng-container",1),n.YNc(16,Pn,2,3,"ng-container",1),n.qZA()),2&t){const o=i.$implicit;n.xp6(1),n.Q6J("ngIf","IRoomController"===o.type),n.xp6(1),n.Q6J("ngIf","LightControllerV2"===o.type),n.xp6(1),n.Q6J("ngIf","Pushbutton"===o.type),n.xp6(1),n.Q6J("ngIf","Slider"===o.type),n.xp6(1),n.Q6J("ngIf","Switch"===o.type),n.xp6(1),n.Q6J("ngIf","Radio"===o.type),n.xp6(1),n.Q6J("ngIf","UpDownDigital"===o.type),n.xp6(1),n.Q6J("ngIf","Jalousie"===o.type),n.xp6(1),n.Q6J("ngIf","Webpage"===o.type),n.xp6(1),n.Q6J("ngIf","CentralLightController"===o.type),n.xp6(1),n.Q6J("ngIf","Alarm"===o.type),n.xp6(1),n.Q6J("ngIf","Daytimer"===o.type),n.xp6(1),n.Q6J("ngIf","SmokeAlarm"===o.type),n.xp6(1),n.Q6J("ngIf","Fronius"===o.type),n.xp6(1),n.Q6J("ngIf","Intercom"===o.type),n.xp6(1),n.Q6J("ngIf","IRoomController"!==o.type&&"LightControllerV2"!==o.type&&"Pushbutton"!==o.type&&"Slider"!==o.type&&"Switch"!==o.type&&"Radio"!==o.type&&"UpDownDigital"!==o.type&&"Jalousie"!==o.type&&"Webpage"!==o.type&&"CentralLightController"!==o.type&&"Alarm"!==o.type&&"Daytimer"!==o.type&&"SmokeAlarm"!==o.type&&"Fronius"!==o.type&&"Intercom"!==o.type)}}function Nn(t,i){if(1&t&&(n.ynx(0),n.YNc(1,pn,4,1,"ion-row",1),n.ALo(2,"async"),n.TgZ(3,"ion-row"),n.YNc(4,Zn,17,16,"ion-col",12),n.ALo(5,"async"),n.qZA(),n.BQk()),2&t){const o=i.$implicit,e=n.oxw(3);n.xp6(1),n.Q6J("ngIf",o.name&&n.lcZ(2,2,e.filter_list(o)).length>0),n.xp6(3),n.Q6J("ngForOf",n.lcZ(5,4,e.filter_list(o)))}}function Yn(t,i){if(1&t&&(n.ynx(0),n.YNc(1,Nn,6,6,"ng-container",11),n.BQk()),2&t){const o=n.oxw().ngIf;n.xp6(1),n.Q6J("ngForOf",o.labels)}}function Bn(t,i){if(1&t&&(n.ynx(0),n.TgZ(1,"ion-grid"),n.YNc(2,sn,7,1,"ng-container",1),n.YNc(3,Yn,2,1,"ng-container",1),n.qZA(),n.BQk()),2&t){const o=i.ngIf;n.xp6(2),n.Q6J("ngIf",o.favorites.length),n.xp6(1),n.Q6J("ngIf",o.labels)}}let I=(()=>{var t;class i{constructor(e,r,l,g){this.translate=e,this.route=r,this.controlService=l,this.ionRouterOutlet=g,this.viewType=d.G}ngOnInit(){this.canGoBack=this.ionRouterOutlet.canGoBack(),this.initVM()}ngOnDestroy(){}ionViewWillEnter(){this.content.scrollToTop()}initVM(){const e=this.route.snapshot.paramMap.get("uuid"),r=this.route.snapshot.paramMap.get("serialNr");this.isHome=!1,this.vm$=(0,J.a)([this.controlService.controls$,this.controlService.categories$,this.controlService.rooms$]).pipe((0,v.U)(([l,g,s])=>{let p,T,u,x=l.filter(_=>_.isVisible&&_.category===e&&_.serialNr===r);x.length?(this.key="room",this.cat="category",T=g,p=s,u=x.map(_=>_.room)):(x=l.filter(_=>_.isVisible&&_.room===e&&_.serialNr===r),this.key="category",this.cat="room",T=s,p=g,u=x.map(_=>_.category));const k=T.find(_=>_.uuid===e&&_.serialNr===r);return{controls:x,favorites:x.filter(_=>_.isFavorite).sort((_,f)=>_.order[1]-f.order[1]||_.name.localeCompare(f.name)),labels:p.filter(_=>u.indexOf(_.uuid)>-1).sort((_,f)=>_.name.localeCompare(f.name)),page:k||""}})),null===e&&null===r&&(this.isHome=!0,this.key="home",this.vm$=this.controlService.controls$.pipe((0,v.U)(l=>({controls:null,favorites:l=l.filter(s=>s.order[2]>0&&s.isVisible).sort((s,p)=>s.order[2]-p.order[2]||s.name.localeCompare(p.name)),labels:null,page:{name:"Home"}}))))}filter_list(e){return this.vm$.pipe((0,v.U)(r=>r.controls.filter(l=>l[this.key]===e.uuid&&!l.isFavorite).sort((l,g)=>l.order[0]-g.order[0]||l.name.localeCompare(g.name))))}}return(t=i).\u0275fac=function(e){return new(e||t)(n.Y36(m.sK),n.Y36(y.gz),n.Y36(h.B),n.Y36(a.jP))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-controls"]],viewQuery:function(e,r){if(1&e&&n.Gf(a.W2,5),2&e){let l;n.iGM(l=n.CRH())&&(r.content=l.first)}},decls:12,vars:9,consts:[["slot","start"],[4,"ngIf"],["autoHide","false",4,"ngIf"],[3,"defaultHref",4,"ngIf"],["translate",""],["autoHide","false"],[3,"defaultHref"],[1,"control-label"],["size","6","size-md","3",4,"ngFor","ngForOf"],["size","6","size-md","3"],[3,"control","view","key"],[4,"ngFor","ngForOf"],["size","12","size-md","6",4,"ngFor","ngForOf"],["size","12","size-md","6"]],template:function(e,r){1&e&&(n.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),n.YNc(3,b,1,0,"ion-back-button",1),n.YNc(4,z,1,0,"ion-menu-button",2),n.YNc(5,D,1,1,"ion-back-button",3),n.qZA(),n.TgZ(6,"ion-title",4),n._uU(7),n.ALo(8,"async"),n.qZA()()(),n.TgZ(9,"ion-content"),n.YNc(10,Bn,4,2,"ng-container",1),n.ALo(11,"async"),n.qZA()),2&e&&(n.xp6(3),n.Q6J("ngIf",!r.isHome),n.xp6(1),n.Q6J("ngIf",r.isHome),n.xp6(1),n.Q6J("ngIf",!r.canGoBack&&!r.isHome),n.xp6(2),n.hij(" ",n.lcZ(8,5,r.vm$).page.name," "),n.xp6(3),n.Q6J("ngIf",n.lcZ(11,7,r.vm$)))},dependencies:[a.oU,a.Sm,a.wI,a.W2,a.jY,a.Gu,a.Q$,a.fG,a.Nd,a.wd,a.sr,a.cs,w.sg,w.O5,m.Pi,P.a,Z.x,N.j,Y.p,B.h,U.p,$.f,A.M,S.k,F.d,E.B,L.e,M.z,O.v,R.y,V.b,w.Ov]}),i})();const Un=[{path:"",component:I}];let $n=(()=>{var t;class i{}return(t=i).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[y.Bz.forChild(Un),y.Bz]}),i})();var An=c(6592);let Sn=(()=>{var t;class i{}return(t=i).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[a.Pc,w.ez,C.u5,y.Bz.forChild([{path:"",component:I}]),$n,m.aw,An.Y]}),i})()}}]);