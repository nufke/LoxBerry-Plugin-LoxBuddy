"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5488],{5488:(un,me,g)=>{g.r(me),g.d(me,{DetailedControlPageModule:()=>cn});var C=g(9843),G=g(4282),B=g(6814),re=g(6223),l=g(5879),F=g(6308),Ge=g(7066),_e=g(2572),pe=g(7398),be=g(7658),N=g(9515),L=g(5e3),Fe=g(717);function ze(t,r){if(1&t&&(l.TgZ(0,"ion-grid",1)(1,"ion-row")(2,"ion-col"),l._UZ(3,"card-text-view",2),l.qZA()()()),2&t){const n=r.ngIf;l.xp6(3),l.Q6J("text_vm",n)}}let Xe=(()=>{var t;class r{constructor(e,i){this.translate=e,this.controlService=i,this.buttonType=F.W,this.viewType=F.G}ngOnInit(){this.initVM()}ngOnDestroy(){}initVM(){null!=this.control?this.vm$=(0,_e.a)([this.controlService.getControl$(this.control.serialNr,this.control.uuid),this.controlService.categories$,this.controlService.rooms$]).pipe((0,pe.U)(([e,i,o])=>this.updateVM(e,i,o))):console.error("Component 'control-alarm-history' not available for rendering.")}updateVM(e,i,o){let a=o.find(v=>v.uuid===e.room&&v.serialNr===e.serialNr),s=i.find(v=>v.uuid===e.category&&v.serialNr===e.serialNr),d=Number(e.states.armed)?"Armed":"Disarmed";return{control:{...e,icon:{href:"assets/icons/svg/shield.svg",color:""}},ui:{name:e.name,room:a&&a.name?a.name:"unknown",category:s&&s.name?s.name:"unknown",status:{text:d,color:be.c.getColor("secondary")}}}}}return(t=r).\u0275fac=function(e){return new(e||t)(l.Y36(N.sK),l.Y36(L.B))},t.\u0275cmp=l.Xpm({type:t,selectors:[["control-alarm-history-view"]],inputs:{control:"control",view:"view",key:"key"},decls:2,vars:3,consts:[["class","grid-center",4,"ngIf"],[1,"grid-center"],[3,"text_vm"]],template:function(e,i){1&e&&(l.YNc(0,ze,4,1,"ion-grid",0),l.ALo(1,"async")),2&e&&l.Q6J("ngIf",l.lcZ(1,1,i.vm$))},dependencies:[B.O5,C.wI,C.jY,C.Nd,Fe.h,B.Ov]}),r})();var b,z,ye,ie,we,Ye=g(4403),Je=g(2571),P={},oe=[],Ke=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function R(t,r){for(var n in r)t[n]=r[n];return t}function Ce(t){var r=t.parentNode;r&&r.removeChild(t)}function _(t,r,n){var e,i,o,a,s=arguments;if(r=R({},r),arguments.length>3)for(n=[n],e=3;e<arguments.length;e++)n.push(s[e]);if(null!=n&&(r.children=n),null!=t&&null!=t.defaultProps)for(i in t.defaultProps)void 0===r[i]&&(r[i]=t.defaultProps[i]);return a=r.key,null!=(o=r.ref)&&delete r.ref,null!=a&&delete r.key,ae(t,r,a,o)}function ae(t,r,n,e){var i={type:t,props:r,key:n,ref:e,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return b.vnode&&b.vnode(i),i}function X(t){return t.children}function $(t,r){this.props=t,this.context=r}function Y(t,r){if(null==r)return t.__p?Y(t.__p,t.__p.__k.indexOf(t)+1):null;for(var n;r<t.__k.length;r++)if(null!=(n=t.__k[r])&&null!=n.__e)return n.__e;return"function"==typeof t.type?Y(t):null}function xe(t){var r,n;if(null!=(t=t.__p)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(n=t.__k[r])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return xe(t)}}function se(t){(!t.__d&&(t.__d=!0)&&1===z.push(t)||ie!==b.debounceRendering)&&(ie=b.debounceRendering,(b.debounceRendering||ye)(et))}function et(){var t,r,n,e,i,o,a,s;for(z.sort(function(h,u){return u.__v.__b-h.__v.__b});t=z.pop();)t.__d&&(n=void 0,e=void 0,o=(i=(r=t).__v).__e,a=r.__P,s=r.u,r.u=!1,a&&(n=[],e=ce(a,i,R({},i),r.__n,void 0!==a.ownerSVGElement,null,n,s,o??Y(i)),Te(n,i),e!=o&&xe(i)))}function ke(t,r,n,e,i,o,a,s,h){var u,d,c,v,f,m,p,k=n&&n.__k||oe,w=k.length;if(s==P&&(s=null!=o?o[0]:w?Y(n,0):null),u=0,r.__k=le(r.__k,function(y){if(null!=y){if(y.__p=r,y.__b=r.__b+1,null===(c=k[u])||c&&y.key==c.key&&y.type===c.type)k[u]=void 0;else for(d=0;d<w;d++){if((c=k[d])&&y.key==c.key&&y.type===c.type){k[d]=void 0;break}c=null}if(v=ce(t,y,c=c||P,e,i,o,a,null,s,h),(d=y.ref)&&c.ref!=d&&(p||(p=[])).push(d,y.__c||v,y),null!=v){if(null==m&&(m=v),null!=y.l)v=y.l,y.l=null;else if(o==c||v!=s||null==v.parentNode){e:if(null==s||s.parentNode!==t)t.appendChild(v);else{for(f=s,d=0;(f=f.nextSibling)&&d<w;d+=2)if(f==v)break e;t.insertBefore(v,s)}"option"==r.type&&(t.value="")}s=v.nextSibling,"function"==typeof r.type&&(r.l=v)}}return u++,y}),r.__e=m,null!=o&&"function"!=typeof r.type)for(u=o.length;u--;)null!=o[u]&&Ce(o[u]);for(u=w;u--;)null!=k[u]&&Pe(k[u],k[u]);if(p)for(u=0;u<p.length;u++)Ae(p[u],p[++u],p[++u])}function le(t,r,n){if(null==n&&(n=[]),null==t||"boolean"==typeof t)r&&n.push(r(null));else if(Array.isArray(t))for(var e=0;e<t.length;e++)le(t[e],r,n);else n.push(r?r(function qe(t){if(null==t||"boolean"==typeof t)return null;if("string"==typeof t||"number"==typeof t)return ae(null,t,null,null);if(null!=t.__e||null!=t.__c){var r=ae(t.type,t.props,t.key,null);return r.__e=t.__e,r}return t}(t)):t);return n}function Se(t,r,n){"-"===r[0]?t.setProperty(r,n):t[r]="number"==typeof n&&!1===Ke.test(r)?n+"px":n??""}function Ee(t,r,n,e,i){var o,a,s,h,u;if("key"!==(r=i?"className"===r?"class":r:"class"===r?"className":r)&&"children"!==r)if("style"===r)if(o=t.style,"string"==typeof n)o.cssText=n;else{if("string"==typeof e&&(o.cssText="",e=null),e)for(a in e)n&&a in n||Se(o,a,"");if(n)for(s in n)e&&n[s]===e[s]||Se(o,s,n[s])}else"o"===r[0]&&"n"===r[1]?(h=r!==(r=r.replace(/Capture$/,"")),u=r.toLowerCase(),r=(u in t?u:r).slice(2),n?(e||t.addEventListener(r,Ie,h),(t.t||(t.t={}))[r]=n):t.removeEventListener(r,Ie,h)):"list"!==r&&"tagName"!==r&&"form"!==r&&!i&&r in t?t[r]=n??"":"function"!=typeof n&&"dangerouslySetInnerHTML"!==r&&(r!==(r=r.replace(/^xlink:?/,""))?null==n||!1===n?t.removeAttributeNS("http://www.w3.org/1999/xlink",r.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",r.toLowerCase(),n):null==n||!1===n?t.removeAttribute(r):t.setAttribute(r,n))}function Ie(t){return this.t[t.type](b.event?b.event(t):t)}function ce(t,r,n,e,i,o,a,s,h,u){var d,c,v,f,m,p,k,w,y,M,A=r.type;if(void 0!==r.constructor)return null;(d=b.__b)&&d(r);try{e:if("function"==typeof A){if(w=r.props,y=(d=A.contextType)&&e[d.__c],M=d?y?y.props.value:d.__p:e,n.__c?k=(c=r.__c=n.__c).__p=c.__E:("prototype"in A&&A.prototype.render?r.__c=c=new A(w,M):(r.__c=c=new $(w,M),c.constructor=A,c.render=rt),y&&y.sub(c),c.props=w,c.state||(c.state={}),c.context=M,c.__n=e,v=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=A.getDerivedStateFromProps&&R(c.__s==c.state?c.__s=R({},c.__s):c.__s,A.getDerivedStateFromProps(w,c.__s)),v)null==A.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&a.push(c);else{if(null==A.getDerivedStateFromProps&&null==s&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(w,M),!s&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(w,c.__s,M)){for(c.props=w,c.state=c.__s,c.__d=!1,c.__v=r,r.__e=null!=h?h!==n.__e?h:n.__e:null,r.__k=n.__k,d=0;d<r.__k.length;d++)r.__k[d]&&(r.__k[d].__p=r);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(w,c.__s,M)}for(f=c.props,m=c.state,c.context=M,c.props=w,c.state=c.__s,(d=b.__r)&&d(r),c.__d=!1,c.__v=r,c.__P=t,d=c.render(c.props,c.state,c.context),r.__k=le(null!=d&&d.type==X&&null==d.key?d.props.children:d),null!=c.getChildContext&&(e=R(R({},e),c.getChildContext())),v||null==c.getSnapshotBeforeUpdate||(p=c.getSnapshotBeforeUpdate(f,m)),ke(t,r,n,e,i,o,a,h,u),c.base=r.__e;d=c.__h.pop();)c.__s&&(c.state=c.__s),d.call(c);v||null==f||null==c.componentDidUpdate||c.componentDidUpdate(f,m,p),k&&(c.__E=c.__p=null)}else r.__e=function nt(t,r,n,e,i,o,a,s){var h,u,d,c,v=n.props,f=r.props;if(i="svg"===r.type||i,null==t&&null!=o)for(h=0;h<o.length;h++)if(null!=(u=o[h])&&(null===r.type?3===u.nodeType:u.localName===r.type)){t=u,o[h]=null;break}if(null==t){if(null===r.type)return document.createTextNode(f);t=i?document.createElementNS("http://www.w3.org/2000/svg",r.type):document.createElement(r.type),o=null}return null===r.type?v!==f&&(null!=o&&(o[o.indexOf(t)]=null),t.data=f):r!==n&&(null!=o&&(o=oe.slice.call(t.childNodes)),d=(v=n.props||P).dangerouslySetInnerHTML,c=f.dangerouslySetInnerHTML,s||(c||d)&&(c&&d&&c.__html==d.__html||(t.innerHTML=c&&c.__html||"")),function tt(t,r,n,e,i){var o;for(o in n)o in r||Ee(t,o,null,n[o],e);for(o in r)i&&"function"!=typeof r[o]||"value"===o||"checked"===o||n[o]===r[o]||Ee(t,o,r[o],n[o],e)}(t,f,v,i,s),r.__k=r.props.children,c||ke(t,r,n,e,"foreignObject"!==r.type&&i,o,a,P,s),s||("value"in f&&void 0!==f.value&&f.value!==t.value&&(t.value=null==f.value?"":f.value),"checked"in f&&void 0!==f.checked&&f.checked!==t.checked&&(t.checked=f.checked))),t}(n.__e,r,n,e,i,o,a,u);(d=b.diffed)&&d(r)}catch(hn){b.__e(hn,r,n)}return r.__e}function Te(t,r){for(var n;n=t.pop();)try{n.componentDidMount()}catch(e){b.__e(e,n.__v)}b.__c&&b.__c(r)}function Ae(t,r,n){try{"function"==typeof t?t(r):t.current=r}catch(e){b.__e(e,n)}}function Pe(t,r,n){var e,i,o;if(b.unmount&&b.unmount(t),(e=t.ref)&&Ae(e,null,r),n||"function"==typeof t.type||(n=null!=(i=t.__e)),t.__e=t.l=null,null!=(e=t.__c)){if(e.componentWillUnmount)try{e.componentWillUnmount()}catch(a){b.__e(a,r)}e.base=e.__P=null}if(e=t.__k)for(o=0;o<e.length;o++)e[o]&&Pe(e[o],r,n);null!=i&&Ce(i)}function rt(t,r,n){return this.constructor(t,n)}function Re(t,r){for(var n=0;n<r.length;n++){var e=r[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function S(){return S=Object.assign||function(t){for(var r=arguments,n=1;n<arguments.length;n++){var e=r[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},S.apply(this,arguments)}b={},$.prototype.setState=function(t,r){var n=this.__s!==this.state&&this.__s||(this.__s=R({},this.state));("function"!=typeof t||(t=t(n,this.props)))&&R(n,t),null!=t&&this.__v&&(this.u=!1,r&&this.__h.push(r),se(this))},$.prototype.forceUpdate=function(t){this.__v&&(t&&this.__h.push(t),this.u=!0,se(this))},$.prototype.render=X,z=[],ye="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ie=b.debounceRendering,b.__e=function(t,r,n){for(var e;r=r.__p;)if((e=r.__c)&&!e.__p)try{if(e.constructor&&null!=e.constructor.getDerivedStateFromError)e.setState(e.constructor.getDerivedStateFromError(t));else{if(null==e.componentDidCatch)continue;e.componentDidCatch(t)}return se(e.__E=e)}catch(i){t=i}throw t},we=P;var V="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",Me="[\\s|\\(]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",Ne="[\\s|\\(]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",lt=new RegExp("rgb"+Me),ct=new RegExp("rgba"+Ne),ht=new RegExp("hsl"+Me),ut=new RegExp("hsla"+Ne),J="^(?:#?|0x?)",D="([0-9a-fA-F]{1})",O="([0-9a-fA-F]{2})",dt=new RegExp(J+D+D+D+"$"),vt=new RegExp(J+D+D+D+D+"$"),ft=new RegExp(J+O+O+O+"$"),gt=new RegExp(J+O+O+O+O+"$"),Q=Math.log,W=Math.round,Z=Math.floor;function T(t,r,n){return Math.min(Math.max(t,r),n)}function E(t,r){var n=t.indexOf("%")>-1,e=parseFloat(t);return n?r/100*e:e}function I(t){return parseInt(t,16)}function H(t){return t.toString(16).padStart(2,"0")}var j=function(){function t(n,e){this.$={h:0,s:0,v:0,a:1},n&&this.set(n),this.onChange=e,this.initialValue=S({},this.$)}var r=t.prototype;return r.set=function(e){if("string"==typeof e)/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(e)?this.hexString=e:/^rgba?/.test(e)?this.rgbString=e:/^hsla?/.test(e)&&(this.hslString=e);else{if("object"!=typeof e)throw new Error("Invalid color value");e instanceof t?this.hsva=e.hsva:"r"in e&&"g"in e&&"b"in e?this.rgb=e:"h"in e&&"s"in e&&"v"in e?this.hsv=e:"h"in e&&"s"in e&&"l"in e?this.hsl=e:"kelvin"in e&&(this.kelvin=e.kelvin)}},r.setChannel=function(e,i,o){var a;this[e]=S({},this[e],((a={})[i]=o,a))},r.reset=function(){this.hsva=this.initialValue},r.clone=function(){return new t(this)},r.unbind=function(){this.onChange=void 0},t.hsvToRgb=function(e){var i=e.h/60,o=e.s/100,a=e.v/100,s=Z(i),h=i-s,u=a*(1-o),d=a*(1-h*o),c=a*(1-(1-h)*o),v=s%6,m=[c,a,a,d,u,u][v],p=[u,u,c,a,a,d][v];return{r:T(255*[a,d,u,u,c,a][v],0,255),g:T(255*m,0,255),b:T(255*p,0,255)}},t.rgbToHsv=function(e){var i=e.r/255,o=e.g/255,a=e.b/255,s=Math.max(i,o,a),h=Math.min(i,o,a),u=s-h,d=0,c=s,v=0===s?0:u/s;switch(s){case h:d=0;break;case i:d=(o-a)/u+(o<a?6:0);break;case o:d=(a-i)/u+2;break;case a:d=(i-o)/u+4}return{h:60*d%360,s:T(100*v,0,100),v:T(100*c,0,100)}},t.hsvToHsl=function(e){var i=e.s/100,o=e.v/100,a=(2-i)*o,s=a<=1?a:2-a;return{h:e.h,s:T(100*(s<1e-9?0:i*o/s),0,100),l:T(50*a,0,100)}},t.hslToHsv=function(e){var i=2*e.l,o=e.s*(i<=100?i:200-i)/100;return{h:e.h,s:T(100*(i+o<1e-9?0:2*o/(i+o)),0,100),v:T((i+o)/2,0,100)}},t.kelvinToRgb=function(e){var o,a,s,i=e/100;return i<66?(o=255,a=-155.25485562709179-.44596950469579133*(a=i-2)+104.49216199393888*Q(a),s=i<20?0:.8274096064007395*(s=i-10)-254.76935184120902+115.67994401066147*Q(s)):(o=351.97690566805693+.114206453784165*(o=i-55)-40.25366309332127*Q(o),a=325.4494125711974+.07943456536662342*(a=i-50)-28.0852963507957*Q(a),s=255),{r:T(Z(o),0,255),g:T(Z(a),0,255),b:T(Z(s),0,255)}},t.rgbToKelvin=function(e){for(var u,i=e.r,o=e.b,s=2e3,h=4e4;h-s>.4;){var d=t.kelvinToRgb(u=.5*(h+s));d.b/d.r>=o/i?h=u:s=u}return u},function ot(t,r,n){r&&Re(t.prototype,r),n&&Re(t,n)}(t,[{key:"hsv",get:function(){var e=this.$;return{h:e.h,s:e.s,v:e.v}},set:function(e){var i=this.$;if(e=S({},i,e),this.onChange){var o={h:!1,v:!1,s:!1,a:!1};for(var a in i)o[a]=e[a]!=i[a];this.$=e,(o.h||o.s||o.v||o.a)&&this.onChange(this,o)}else this.$=e}},{key:"hsva",get:function(){return S({},this.$)},set:function(e){this.hsv=e}},{key:"hue",get:function(){return this.$.h},set:function(e){this.hsv={h:e}}},{key:"saturation",get:function(){return this.$.s},set:function(e){this.hsv={s:e}}},{key:"value",get:function(){return this.$.v},set:function(e){this.hsv={v:e}}},{key:"alpha",get:function(){return this.$.a},set:function(e){this.hsv=S({},this.hsv,{a:e})}},{key:"kelvin",get:function(){return t.rgbToKelvin(this.rgb)},set:function(e){this.rgb=t.kelvinToRgb(e)}},{key:"red",get:function(){return this.rgb.r},set:function(e){this.rgb=S({},this.rgb,{r:e})}},{key:"green",get:function(){return this.rgb.g},set:function(e){this.rgb=S({},this.rgb,{g:e})}},{key:"blue",get:function(){return this.rgb.b},set:function(e){this.rgb=S({},this.rgb,{b:e})}},{key:"rgb",get:function(){var e=t.hsvToRgb(this.$),o=e.g,a=e.b;return{r:W(e.r),g:W(o),b:W(a)}},set:function(e){this.hsv=S({},t.rgbToHsv(e),{a:void 0===e.a?1:e.a})}},{key:"rgba",get:function(){return S({},this.rgb,{a:this.alpha})},set:function(e){this.rgb=e}},{key:"hsl",get:function(){var e=t.hsvToHsl(this.$),o=e.s,a=e.l;return{h:W(e.h),s:W(o),l:W(a)}},set:function(e){this.hsv=S({},t.hslToHsv(e),{a:void 0===e.a?1:e.a})}},{key:"hsla",get:function(){return S({},this.hsl,{a:this.alpha})},set:function(e){this.hsl=e}},{key:"rgbString",get:function(){var e=this.rgb;return"rgb("+e.r+", "+e.g+", "+e.b+")"},set:function(e){var i,o,a,s,h=1;if((i=lt.exec(e))?(o=E(i[1],255),a=E(i[2],255),s=E(i[3],255)):(i=ct.exec(e))&&(o=E(i[1],255),a=E(i[2],255),s=E(i[3],255),h=E(i[4],1)),!i)throw new Error("Invalid rgb string");this.rgb={r:o,g:a,b:s,a:h}}},{key:"rgbaString",get:function(){var e=this.rgba;return"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"},set:function(e){this.rgbString=e}},{key:"hexString",get:function(){var e=this.rgb;return"#"+H(e.r)+H(e.g)+H(e.b)},set:function(e){var i,o,a,s,h=255;if((i=dt.exec(e))?(o=17*I(i[1]),a=17*I(i[2]),s=17*I(i[3])):(i=vt.exec(e))?(o=17*I(i[1]),a=17*I(i[2]),s=17*I(i[3]),h=17*I(i[4])):(i=ft.exec(e))?(o=I(i[1]),a=I(i[2]),s=I(i[3])):(i=gt.exec(e))&&(o=I(i[1]),a=I(i[2]),s=I(i[3]),h=I(i[4])),!i)throw new Error("Invalid hex string");this.rgb={r:o,g:a,b:s,a:h/255}}},{key:"hex8String",get:function(){var e=this.rgba;return"#"+H(e.r)+H(e.g)+H(e.b)+H(Z(255*e.a))},set:function(e){this.hexString=e}},{key:"hslString",get:function(){var e=this.hsl;return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},set:function(e){var i,o,a,s,h=1;if((i=ht.exec(e))?(o=E(i[1],360),a=E(i[2],100),s=E(i[3],100)):(i=ut.exec(e))&&(o=E(i[1],360),a=E(i[2],100),s=E(i[3],100),h=E(i[4],1)),!i)throw new Error("Invalid hsl string");this.hsl={h:o,s:a,l:s,a:h}}},{key:"hslaString",get:function(){var e=this.hsla;return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},set:function(e){this.hslString=e}}]),t}();function he(t){var r,n=t.width,e=t.sliderSize,o=t.handleRadius,a=t.padding,h="horizontal"===t.layoutDirection;return e=null!=(r=e)?r:2*a+2*o,"circle"===t.sliderShape?{handleStart:t.padding+t.handleRadius,handleRange:n-2*a-2*o,width:n,height:n,cx:n/2,cy:n/2,radius:n/2-t.borderWidth/2}:{handleStart:e/2,handleRange:n-e,radius:e/2,x:0,y:0,width:h?e:n,height:h?n:e}}var de,Ve=2*Math.PI,xt=function(r,n){return(r%n+n)%n},De=function(r,n){return Math.sqrt(r*r+n*n)};function Oe(t){return t.width/2-t.padding-t.handleRadius-t.borderWidth}function K(t){var r=t.width/2;return{width:t.width,radius:r-t.borderWidth,cx:r,cy:r}}function He(t,r,n){var e=t.wheelAngle,i=t.wheelDirection;return n&&"clockwise"===i?r=e+r:"clockwise"===i?r=360-e+r:n&&"anticlockwise"===i?r=e+180-r:"anticlockwise"===i&&(r=e-r),xt(r,360)}function Ue(t,r,n){var e=K(t),i=e.cx,o=e.cy,a=Oe(t);r=i-r,n=o-n;var s=He(t,Math.atan2(-n,-r)*(360/Ve)),h=Math.min(De(r,n),a);return{h:Math.round(s),s:Math.round(100/a*h)}}function ue(t){var r=t.width;return{width:r,height:t.boxHeight??r,radius:t.padding+t.handleRadius}}function $e(t,r,n){var e=ue(t),a=e.radius,c=(n-a)/(e.height-2*a)*100;return{s:Math.max(0,Math.min((r-a)/(e.width-2*a)*100,100)),v:Math.max(0,Math.min(100-c,100))}}function Tt(t){de||(de=document.getElementsByTagName("base"));var r=window.navigator.userAgent,n=/^((?!chrome|android).)*safari/i.test(r),e=/iPhone|iPod|iPad/i.test(r),i=window.location;return(n||e)&&de.length>0?i.protocol+"//"+i.host+i.pathname+i.search+t:t}function We(t,r,n,e){for(var i=0;i<e.length;i++){var o=e[i].x-r,a=e[i].y-n;if(Math.sqrt(o*o+a*a)<t.handleRadius)return i}return null}function ve(t){return{boxSizing:"border-box",border:t.borderWidth+"px solid "+t.borderColor}}function fe(t,r,n){return t+"-gradient("+r+", "+n.map(function(e){return e[1]+" "+e[0]+"%"}).join(",")+")"}function x(t){return"string"==typeof t?t:t+"px"}var je=["mousemove","touchmove","mouseup","touchend"],q=function(t){function r(n){t.call(this,n),this.uid=(Math.random()+1).toString(36).substring(5)}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.render=function(e){var i=this.handleEvent.bind(this),o={onMouseDown:i,ontouchstart:i},a="horizontal"===e.layoutDirection,h={overflow:"visible",display:a?"inline-block":"block"};return e.index>0&&(h[a?"marginLeft":"marginTop"]=null===e.margin?e.sliderMargin:e.margin),_(X,null,e.children(this.uid,o,h))},r.prototype.handleEvent=function(e){var i=this,o=this.props.onInput,a=this.base.getBoundingClientRect();e.preventDefault();var s=e.touches?e.changedTouches[0]:e,h=s.clientX-a.left,u=s.clientY-a.top;switch(e.type){case"mousedown":case"touchstart":!1!==o(h,u,0)&&je.forEach(function(c){document.addEventListener(c,i,{passive:!1})});break;case"mousemove":case"touchmove":o(h,u,1);break;case"mouseup":case"touchend":o(h,u,2),je.forEach(function(c){document.removeEventListener(c,i,{passive:!1})})}},r}($);function U(t){var r=t.r,n=t.url,e=r,i=r;return _("svg",{className:"IroHandle IroHandle--"+t.index+" "+(t.isActive?"IroHandle--isActive":""),style:{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0);",transform:"translate("+x(t.x)+", "+x(t.y)+")",willChange:"transform",top:x(-r),left:x(-r),width:x(2*r),height:x(2*r),position:"absolute",overflow:"visible"}},n&&_("use",Object.assign({xlinkHref:Tt(n)},t.props)),!n&&_("circle",{cx:e,cy:i,r,fill:"none","stroke-width":2,stroke:"#000"}),!n&&_("circle",{cx:e,cy:i,r:r-2,fill:t.fill,"stroke-width":2,stroke:"#fff"}))}function ee(t){var r=t.activeIndex,n=void 0!==r&&r<t.colors.length?t.colors[r]:t.color,e=he(t),i=e.width,o=e.height,a=e.radius,s=function wt(t,r){var n=he(t),e=n.width,i=n.height,o=n.handleRange,a=n.handleStart,s="horizontal"===t.layoutDirection,h=function bt(t,r){var n=r.hsva,e=r.rgb;switch(t.sliderType){case"red":return e.r/2.55;case"green":return e.g/2.55;case"blue":return e.b/2.55;case"alpha":return 100*n.a;case"kelvin":var i=t.minTemperature;return Math.max(0,Math.min((r.kelvin-i)/(t.maxTemperature-i)*100,100));case"hue":return n.h/=3.6;case"saturation":return n.s;default:return n.v}}(t,r),u=s?e/2:i/2,d=a+h/100*o;return s&&(d=-1*d+o+2*a),{x:s?u:d,y:s?d:u}}(t,n),h=function Ct(t,r){var n=r.hsv,e=r.rgb;switch(t.sliderType){case"red":return[[0,"rgb(0,"+e.g+","+e.b+")"],[100,"rgb(255,"+e.g+","+e.b+")"]];case"green":return[[0,"rgb("+e.r+",0,"+e.b+")"],[100,"rgb("+e.r+",255,"+e.b+")"]];case"blue":return[[0,"rgb("+e.r+","+e.g+",0)"],[100,"rgb("+e.r+","+e.g+",255)"]];case"alpha":return[[0,"rgba("+e.r+","+e.g+","+e.b+",0)"],[100,"rgb("+e.r+","+e.g+","+e.b+")"]];case"kelvin":for(var i=[],o=t.minTemperature,a=t.maxTemperature,h=a-o,u=o,d=0;u<a;u+=h/8,d+=1){var c=j.kelvinToRgb(u);i.push([12.5*d,"rgb("+c.r+","+c.g+","+c.b+")"])}return i;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var p=j.hsvToHsl({h:n.h,s:0,v:n.v}),k=j.hsvToHsl({h:n.h,s:100,v:n.v});return[[0,"hsl("+p.h+","+p.s+"%,"+p.l+"%)"],[100,"hsl("+k.h+","+k.s+"%,"+k.l+"%)"]];default:var w=j.hsvToHsl({h:n.h,s:n.s,v:100});return[[0,"#000"],[100,"hsl("+w.h+","+w.s+"%,"+w.l+"%)"]]}}(t,n);return _(q,Object.assign({},t,{onInput:function u(d,c,v){var f=function yt(t,r,n){var a,e=he(t),i=e.handleRange,o=e.handleStart;a="horizontal"===t.layoutDirection?-1*n+i+o:r-o,a=Math.max(Math.min(a,i),0);var s=Math.round(100/i*a);switch(t.sliderType){case"kelvin":var h=t.minTemperature;return h+s/100*(t.maxTemperature-h);case"alpha":return s/100;case"hue":return 3.6*s;case"red":case"blue":case"green":return 2.55*s;default:return s}}(t,d,c);t.parent.inputActive=!0,n[t.sliderType]=f,t.onInput(v,t.id)}}),function(d,c,v){return _("div",Object.assign({},c,{className:"IroSlider",style:Object.assign({},{position:"relative",width:x(i),height:x(o),borderRadius:x(a),background:"conic-gradient(#ccc 25%, #fff 0 50%, #ccc 0 75%, #fff 0)",backgroundSize:"8px 8px"},v)}),_("div",{className:"IroSliderGradient",style:Object.assign({},{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:x(a),background:fe("linear","horizontal"===t.layoutDirection?"to top":"to right",h)},ve(t))}),_(U,{isActive:!0,index:n.index,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:s.x,y:s.y}))})}function Be(t){var n=K(t).width,e=t.colors,o=t.parent,a=t.color,s=a.hsv,h=e.map(function(c){return function St(t,r){var n=r.hsv,e=K(t),i=e.cx,o=e.cy,a=Oe(t),s=(180+He(t,n.h,!0))*(Ve/360),h=n.s/100*a,u="clockwise"===t.wheelDirection?-1:1;return{x:i+h*Math.cos(s)*u,y:o+h*Math.sin(s)*u}}(t,c)}),u={position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",boxSizing:"border-box"};return _(q,Object.assign({},t,{onInput:function d(c,v,f){if(0===f){if(!function kt(t,r,n){var e=K(t),a=t.width/2;return De(e.cx-r,e.cy-n)<a}(t,c,v))return!1;var m=We(t,c,v,h);null!==m?o.setActiveColor(m):(o.inputActive=!0,a.hsv=Ue(t,c,v),t.onInput(f,t.id))}else 1===f&&(o.inputActive=!0,a.hsv=Ue(t,c,v));t.onInput(f,t.id)}}),function(c,v,f){return _("div",Object.assign({},v,{className:"IroWheel",style:Object.assign({},{width:x(n),height:x(n),position:"relative"},f)}),_("div",{className:"IroWheelHue",style:Object.assign({},u,{transform:"rotateZ("+(t.wheelAngle+90)+"deg)",background:"clockwise"===t.wheelDirection?"conic-gradient(red, yellow, lime, aqua, blue, magenta, red)":"conic-gradient(red, magenta, blue, aqua, lime, yellow, red)"})}),_("div",{className:"IroWheelSaturation",style:Object.assign({},u,{background:"radial-gradient(circle closest-side, #fff, transparent)"})}),t.wheelLightness&&_("div",{className:"IroWheelLightness",style:Object.assign({},u,{background:"#000",opacity:1-s.v/100})}),_("div",{className:"IroWheelBorder",style:Object.assign({},u,ve(t))}),e.filter(function(m){return m!==a}).map(function(m){return _(U,{isActive:!1,index:m.index,fill:m.hslString,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:h[m.index].x,y:h[m.index].y})}),_(U,{isActive:!0,index:a.index,fill:a.hslString,r:t.activeHandleRadius||t.handleRadius,url:t.handleSvg,props:t.handleProps,x:h[a.index].x,y:h[a.index].y}))})}U.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}},ee.defaultProps=Object.assign({},{sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3});var Le=function(t){function r(n){var e=this;t.call(this,n),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=n.id,(n.colors.length>0?n.colors:[n.color]).forEach(function(o){return e.addColor(o)}),this.setActiveColor(0),this.state=Object.assign({},n,{color:this.color,colors:this.colors,layout:n.layout})}return t&&(r.__proto__=t),(r.prototype=Object.create(t&&t.prototype)).constructor=r,r.prototype.addColor=function(e,i){void 0===i&&(i=this.colors.length);var o=new j(e,this.onColorChange.bind(this));this.colors.splice(i,0,o),this.colors.forEach(function(a,s){return a.index=s}),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",o)},r.prototype.removeColor=function(e){var i=this.colors.splice(e,1)[0];i.unbind(),this.colors.forEach(function(o,a){return o.index=a}),this.state&&this.setState({colors:this.colors}),i.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",i)},r.prototype.setActiveColor=function(e){this.color=this.colors[e],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},r.prototype.setColors=function(e,i){var o=this;void 0===i&&(i=0),this.colors.forEach(function(a){return a.unbind()}),this.colors=[],e.forEach(function(a){return o.addColor(a)}),this.setActiveColor(i),this.emit("color:setAll",this.colors)},r.prototype.on=function(e,i){var o=this,a=this.events;(Array.isArray(e)?e:[e]).forEach(function(s){(a[s]||(a[s]=[])).push(i),o.deferredEvents[s]&&(o.deferredEvents[s].forEach(function(h){i.apply(null,h)}),o.deferredEvents[s]=[])})},r.prototype.off=function(e,i){var o=this;(Array.isArray(e)?e:[e]).forEach(function(a){var s=o.events[a];s&&s.splice(s.indexOf(i),1)})},r.prototype.emit=function(e){for(var i=this,o=[],a=arguments.length-1;a-- >0;)o[a]=arguments[a+1];var s=this.activeEvents;s.hasOwnProperty(e)&&s[e]||(s[e]=!0,(this.events[e]||[]).forEach(function(d){return d.apply(i,o)}),s[e]=!1)},r.prototype.deferredEmit=function(e){for(var i,o=[],a=arguments.length-1;a-- >0;)o[a]=arguments[a+1];var s=this.deferredEvents;(i=this).emit.apply(i,[e].concat(o)),(s[e]||(s[e]=[])).push(o)},r.prototype.setOptions=function(e){this.setState(e)},r.prototype.resize=function(e){this.setOptions({width:e})},r.prototype.reset=function(){this.colors.forEach(function(e){return e.reset()}),this.setState({colors:this.colors})},r.prototype.onMount=function(e){this.el=e,this.deferredEmit("mount",this)},r.prototype.onColorChange=function(e,i){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",e,i)),this.emit("color:change",e,i)},r.prototype.emitInputEvent=function(e,i){0===e?this.emit("input:start",this.color,i):1===e?this.emit("input:move",this.color,i):2===e&&this.emit("input:end",this.color,i)},r.prototype.render=function(e,i){var o=this,a=i.layout;return Array.isArray(a)||(a=[{component:Be},{component:ee}],i.transparency&&a.push({component:ee,options:{sliderType:"alpha"}})),_("div",{class:"IroColorPicker",id:i.id,style:{display:i.display}},a.map(function(s,h){return _(s.component,Object.assign({},i,s.options,{ref:void 0,onInput:o.emitInputEvent.bind(o),parent:o,index:h}))}))},r}($);Le.defaultProps=Object.assign({},{width:300,height:300,color:"#fff",colors:[],padding:6,layoutDirection:"vertical",borderColor:"#fff",borderWidth:0,handleRadius:8,activeHandleRadius:null,handleSvg:null,handleProps:{x:0,y:0},wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderSize:null,sliderMargin:12,boxHeight:null},{colors:[],display:"block",id:null,layout:"default",margin:null});var ge,t,n,Vt=function Nt(t){var r=function(n,e){var i,o=document.createElement("div");function a(){var s=n instanceof Element?n:document.querySelector(n);s.appendChild(i.base),i.onMount(s)}return function it(t,r,n){var e,i,o;b.__p&&b.__p(t,r),i=(e=n===we)?null:n&&n.__k||r.__k,t=_(X,null,[t]),o=[],ce(r,e?r.__k=t:(n||r).__k=t,i||P,P,void 0!==r.ownerSVGElement,n&&!e?[n]:i?null:oe.slice.call(r.childNodes),o,!1,n||P,e),Te(o,t)}(_(t,Object.assign({},{ref:function(s){return i=s}},e)),o),"loading"!==document.readyState?a():document.addEventListener("DOMContentLoaded",a),i};return r.prototype=t.prototype,Object.assign(r,t),r.__component=t,r}(Le);(t=ge||(ge={})).version="5.5.2",t.Color=j,t.ColorPicker=Vt,(n=t.ui||(t.ui={})).h=_,n.ComponentBase=q,n.Handle=U,n.Slider=ee,n.Wheel=Be,n.Box=function Pt(t){var r=ue(t),n=r.width,e=r.height,i=r.radius,o=t.colors,a=t.parent,s=t.activeIndex,h=void 0!==s&&s<t.colors.length?t.colors[s]:t.color,u=function It(t,r){return[[[0,"#fff"],[100,"hsl("+r.hue+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]}(0,h),d=o.map(function(v){return function Et(t,r){var n=ue(t),o=n.radius,a=r.hsv,u=n.height-2*o;return{x:o+a.s/100*(n.width-2*o),y:o+(u-a.v/100*u)}}(t,v)});return _(q,Object.assign({},t,{onInput:function c(v,f,m){if(0===m){var p=We(t,v,f,d);null!==p?a.setActiveColor(p):(a.inputActive=!0,h.hsv=$e(t,v,f),t.onInput(m,t.id))}else 1===m&&(a.inputActive=!0,h.hsv=$e(t,v,f));t.onInput(m,t.id)}}),function(v,f,m){return _("div",Object.assign({},f,{className:"IroBox",style:Object.assign({},{width:x(n),height:x(e),position:"relative"},m)}),_("div",{className:"IroBox",style:Object.assign({},{width:"100%",height:"100%",borderRadius:x(i)},ve(t),{background:fe("linear","to bottom",u[1])+","+fe("linear","to right",u[0])})}),o.filter(function(p){return p!==h}).map(function(p){return _(U,{isActive:!1,index:p.index,fill:p.hslString,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:d[p.index].x,y:d[p.index].y})}),_(U,{isActive:!0,index:h.index,fill:h.hslString,r:t.activeHandleRadius||t.handleRadius,url:t.handleSvg,props:t.handleProps,x:d[h.index].x,y:d[h.index].y}))})};const te=ge;let Ot=(()=>{var t;class r{constructor(e,i){this.translate=e,this.controlService=i}ngOnChanges(){this.ColorPicker&&this.ColorPicker.color.set(this.color_picker_vm.rgb)}ngOnInit(){this.ColorPicker=te.ColorPicker(".picker",{width:280,color:this.color_picker_vm.rgb,borderWidth:8,borderColor:"#232425",handleRadius:10,layout:[{component:te.ui.Wheel}]}),this.ColorPicker.on("color:change",e=>{this.updateColor(e)})}updateColor(e){let i="hsv("+Math.round(e.hsv.h)+","+Math.round(e.hsv.s)+","+this.color_picker_vm.position+")";this.controlService.updateControl(this.color_picker_vm.subControl,i)}}return(t=r).\u0275fac=function(e){return new(e||t)(l.Y36(N.sK),l.Y36(L.B))},t.\u0275cmp=l.Xpm({type:t,selectors:[["element-color-rgb-picker-view"]],inputs:{color_picker_vm:"color_picker_vm"},features:[l.TTD],decls:1,vars:0,consts:[[1,"picker"]],template:function(e,i){1&e&&l._UZ(0,"div",0)}}),r})(),Ht=(()=>{var t;class r{constructor(e,i){this.translate=e,this.controlService=i}ngOnChanges(){this.TempPicker&&this.TempPicker.color.set(this.color_picker_vm.rgb)}ngOnInit(){this.TempPicker=te.ColorPicker(".picker",{width:280,borderWidth:8,borderColor:"#232425",handleRadius:10,layoutDirection:"horizontal",layout:[{component:te.ui.Slider,options:{sliderShape:"circle",sliderType:"kelvin"}}]}),this.TempPicker.on("color:change",e=>{this.updateColor(e)})}updateColor(e){let i="hsv("+Math.round(e.hsv.h)+","+Math.round(e.hsv.s)+","+this.color_picker_vm.position+")";this.controlService.updateControl(this.color_picker_vm.subControl,i)}}return(t=r).\u0275fac=function(e){return new(e||t)(l.Y36(N.sK),l.Y36(L.B))},t.\u0275cmp=l.Xpm({type:t,selectors:[["element-color-temp-picker-view"]],inputs:{color_picker_vm:"color_picker_vm"},features:[l.TTD],decls:1,vars:0,consts:[[1,"picker"]],template:function(e,i){1&e&&l._UZ(0,"div",0)}}),r})();const Ut=["class","view"];function $t(t,r){if(1&t){const n=l.EpF();l.TgZ(0,"ion-row")(1,"ion-col")(2,"div",7),l._UZ(3,"element-color-rgb-picker-view",8),l.TgZ(4,"div",9)(5,"ion-fab-button",10),l.NdJ("click",function(){l.CHM(n);const i=l.oxw(3);return l.KtG(i.toggleMode())}),l.qZA()()()()()}if(2&t){const n=l.oxw().ngIf;l.xp6(3),l.Q6J("color_picker_vm",n)}}function Wt(t,r){if(1&t){const n=l.EpF();l.TgZ(0,"ion-row")(1,"ion-col")(2,"div",7),l._UZ(3,"element-color-temp-picker-view",8),l.TgZ(4,"div",9)(5,"ion-fab-button",11),l.NdJ("click",function(){l.CHM(n);const i=l.oxw(3);return l.KtG(i.toggleMode())}),l.qZA()()()()()}if(2&t){const n=l.oxw().ngIf;l.xp6(3),l.Q6J("color_picker_vm",n)}}function jt(t,r){if(1&t&&(l.TgZ(0,"ion-grid",5),l.YNc(1,$t,6,1,"ion-row",3),l.YNc(2,Wt,6,1,"ion-row",3),l.TgZ(3,"ion-row")(4,"ion-col"),l._UZ(5,"card-dimmer-view",6),l.qZA()()()),2&t){const n=r.ngIf,e=l.oxw(2);l.xp6(1),l.Q6J("ngIf",e.mode_rgb),l.xp6(1),l.Q6J("ngIf",!e.mode_rgb),l.xp6(3),l.Q6J("control",n.control)("subControl",n.subControl)}}function Bt(t,r){if(1&t&&(l.ynx(0),l.YNc(1,jt,6,4,"ion-grid",4),l.ALo(2,"async"),l.BQk()),2&t){const n=l.oxw();l.xp6(1),l.Q6J("ngIf",l.lcZ(2,1,n.vm$))}}function Lt(t,r){if(1&t&&(l.TgZ(0,"ion-grid",5)(1,"ion-row")(2,"ion-col")(3,"div",7),l._UZ(4,"element-color-rgb-picker-view",8),l.qZA()()()()),2&t){const n=r.ngIf;l.xp6(4),l.Q6J("color_picker_vm",n)}}function Zt(t,r){if(1&t&&(l.ynx(0),l.YNc(1,Lt,5,1,"ion-grid",4),l.ALo(2,"async"),l.BQk()),2&t){const n=l.oxw();l.xp6(1),l.Q6J("ngIf",l.lcZ(2,1,n.vm$))}}let Gt=(()=>{var t;class r{constructor(e,i){this.translate=e,this.controlService=i,this.segment="color",this.mode_rgb=!0}ngOnInit(){this.initVM()}ngOnDestroy(){}initVM(){null!=this.subControl&&null!=this.control?this.vm$=(0,_e.a)([this.controlService.getControl$(this.control.serialNr,this.control.uuid),this.controlService.getSubControl$(this.control.serialNr,this.control.uuid,this.subControl.uuid)]).pipe((0,pe.U)(([e,i])=>this.updateVM(e,i))):console.error("Component 'control-color-picker-v2' not available for rendering.")}updateVM(e,i){let o=i.states.color.match(/hsv\(([0-9]*),([0-9]*),([0-9]*)\)/),a=be.c.hsv2rgb(Number(o[1]),Number(o[2]),100);return{control:e,subControl:i,rgb:{r:a[0],g:a[1],b:a[2]},position:Number(o[3])}}updateSegment(){}toggleMode(){this.mode_rgb=!this.mode_rgb}}return(t=r).\u0275fac=function(e){return new(e||t)(l.Y36(N.sK),l.Y36(L.B))},t.\u0275cmp=l.Xpm({type:t,selectors:[["control-color-picker-v2",8,"view"]],inputs:{control:"control",subControl:"subControl",view:"view"},attrs:Ut,decls:9,vars:9,consts:[[3,"ngModel","ngModelChange","ionChange"],["value","color",1,"segment-button"],["value","sequence",1,"segment-button"],[4,"ngIf"],["class","grid-center",4,"ngIf"],[1,"grid-center"],[3,"control","subControl"],[1,"container"],[3,"color_picker_vm"],[1,"overlay"],[1,"fab_btn_temp",3,"click"],[1,"fab_btn_rgb",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"ion-segment",0),l.NdJ("ngModelChange",function(a){return i.segment=a})("ionChange",function(){return i.updateSegment()}),l.TgZ(1,"ion-segment-button",1),l._uU(2),l.ALo(3,"translate"),l.qZA(),l.TgZ(4,"ion-segment-button",2),l._uU(5),l.ALo(6,"translate"),l.qZA()(),l.YNc(7,Bt,3,3,"ng-container",3),l.YNc(8,Zt,3,3,"ng-container",3)),2&e&&(l.Q6J("ngModel",i.segment),l.xp6(2),l.hij(" ",l.lcZ(3,5,"Color")," "),l.xp6(3),l.hij(" ",l.lcZ(6,7,"Color sequence")," "),l.xp6(2),l.Q6J("ngIf","color"===i.segment),l.xp6(1),l.Q6J("ngIf","sequence"===i.segment))},dependencies:[B.O5,C.wI,C.W4,C.jY,C.Nd,C.cJ,C.GO,C.QI,re.JJ,re.On,Je.W,Ot,Ht,B.Ov,N.X$]}),r})();var Ft=g(8759),zt=g(3914),Xt=g(6353),Yt=g(267),Jt=g(8513),Qt=g(2356),Kt=g(5222),qt=g(7432),en=g(7953),tn=g(5427),ne=g(9249),nn=g(9460),rn=g(3415);const on=["viewcontainer"];let Ze=(()=>{var t;class r{constructor(e,i,o){this.translate=e,this.route=i,this.controlService=o,this.viewType=F.G,this.irc_mode=[{id:0,name:"Automatic"},{id:1,name:"Automatic (currently heating)"},{id:2,name:"Automatic (currently cooling)"},{id:3,name:"Automatic heating"},{id:4,name:"Automatic cooling"},{id:5,name:"Manual heating"},{id:6,name:"Manual cooling"}],this.ViewMap={Alarm:Ge.a,AlarmHistory:Xe,CentralLightController:Ye.x,ColorPickerV2:Gt,Daytimer:Ft.j,Fronius:zt.p,InfoOnlyAnalog:ne.v,InfoOnlyDigital:ne.v,InfoOnlyText:ne.v,IRoomController:Xt.p,Jalousie:Yt.f,LightControllerV2:Jt.M,Pushbutton:Qt.k,Radio:Kt.d,Slider:qt.B,SmokeAlarm:en.e,Switch:tn.z,TextState:ne.v,UpDownDigital:nn.y,Webpage:rn.b},this.initVM()}ngOnInit(){this.loadControlComponent(this.control,this.type)}ngOnDestroy(){this.viewContainer.clear(),this.componentRef=-1,this.controlSubscription.unsubscribe(),this.roomSubscription.unsubscribe()}initVM(){const e=this.route.snapshot.paramMap.get("controlSerialNr"),i=this.route.snapshot.paramMap.get("controlUuid"),o=this.route.snapshot.paramMap.get("subControlUuid"),a=this.route.snapshot.paramMap.get("subControlUuidExt");this.roomSubscription=this.controlService.rooms$.subscribe(s=>{this.rooms=s}),this.controlSubscription=this.controlService.getControl$(e,i).subscribe(s=>{this.control=s,this.type=s.type;let h=this.rooms.find(u=>u.uuid===s.room&&u.serialNr===s.serialNr);switch(s.type){case"IRoomController":this.page_name=s.name===this.translate.instant("IRoomController")||s.name===this.translate.instant("IRoomController_")?this.translate.instant("Thermostat"):s.name;break;case"LightControllerV2":this.page_name=s.name!==this.translate.instant("Lightcontroller")&&s.name!==this.translate.instant("LightcontrollerV2")||null==h?s.name:h.name;break;case"Alarm":o&&"history"===o?(this.subControl=null,this.type="AlarmHistory",this.page_name=this.translate.instant("History")):this.page_name=s.name;break;default:this.page_name=s.name}}),o&&a&&this.controlService.getSubControl$(e,i,o+"/"+a).subscribe(s=>{this.subControl=s,this.type=s.type,this.page_name=s.name})}loadControlComponent(e,i){this.componentRef||(this.componentRef=this.viewContainer.createComponent(this.getControlView(i)),this.componentRef.instance.control=e,this.componentRef.instance.view=F.G.DETAILED,null!=this.subControl&&(this.componentRef.instance.subControl=this.subControl))}getControlView(e){return this.ViewMap[e]?this.ViewMap[e]:this.ViewMap.TextState}}return(t=r).\u0275fac=function(e){return new(e||t)(l.Y36(N.sK),l.Y36(G.gz),l.Y36(L.B))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-detailed-control"]],viewQuery:function(e,i){if(1&e&&l.Gf(on,7,l.s_b),2&e){let o;l.iGM(o=l.CRH())&&(i.viewContainer=o.first)}},decls:9,vars:1,consts:[["slot","start"],["viewcontainer",""]],template:function(e,i){1&e&&(l.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),l._UZ(3,"ion-back-button"),l.qZA(),l.TgZ(4,"ion-title"),l._uU(5),l.qZA()()(),l.TgZ(6,"ion-content"),l.GkF(7,null,1),l.qZA()),2&e&&(l.xp6(5),l.hij(" ",i.page_name," "))},dependencies:[C.oU,C.Sm,C.W2,C.Gu,C.wd,C.sr,C.cs]}),r})();const an=[{path:"",component:Ze}];let sn=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[G.Bz.forChild(an),G.Bz]}),r})();var ln=g(6592);let cn=(()=>{var t;class r{}return(t=r).\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[C.Pc,B.ez,re.u5,G.Bz.forChild([{path:"",component:Ze}]),sn,ln.Y,N.aw]}),r})()}}]);