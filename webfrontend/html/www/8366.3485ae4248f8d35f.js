"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8366],{8366:(F,_,r)=>{r.r(_),r.d(_,{CategoriesPageModule:()=>S});var i=r(7027),f=r(6089),u=r(6814),x=r(6223),m=r(9515),Z=r(2572),d=r(7398),e=r(5879),M=r(4898);function l(t,a){1&t&&(e.TgZ(0,"ion-row")(1,"ion-label",5)(2,"p",6),e._uU(3,"Favorites"),e.qZA()()())}function g(t,a){if(1&t&&(e.TgZ(0,"ion-col",7)(1,"ion-card",8)(2,"ion-card-content",9)(3,"ion-item",10),e._UZ(4,"ion-icon",11),e.qZA(),e.TgZ(5,"ion-item")(6,"ion-label",12)(7,"h1"),e._uU(8),e.qZA()()()()()()),2&t){const o=a.$implicit;e.xp6(1),e.hYB("routerLink","",o.serialNr,"/",o.uuid,""),e.xp6(3),e.s9C("src",o.icon.href),e.xp6(4),e.Oqu(o.name)}}function v(t,a){1&t&&(e.TgZ(0,"ion-row")(1,"ion-label",5)(2,"p",6),e._uU(3,"Other categories"),e.qZA()()())}function p(t,a){if(1&t&&(e.TgZ(0,"ion-col",13)(1,"ion-card",8)(2,"ion-card-content",9)(3,"ion-item",14),e._UZ(4,"ion-icon",15),e.TgZ(5,"ion-label",16)(6,"h1"),e._uU(7),e.qZA()()()()()()),2&t){const o=a.$implicit;e.xp6(1),e.hYB("routerLink","",o.serialNr,"/",o.uuid,""),e.xp6(3),e.s9C("src",o.icon.href),e.xp6(3),e.Oqu(o.name)}}function P(t,a){if(1&t&&(e.TgZ(0,"ion-grid"),e.YNc(1,l,4,0,"ion-row",2),e.TgZ(2,"ion-row"),e.YNc(3,g,9,4,"ion-col",3),e.qZA(),e.YNc(4,v,4,0,"ion-row",2),e.TgZ(5,"ion-row"),e.YNc(6,p,8,4,"ion-col",4),e.qZA()()),2&t){const o=a.ngIf;e.xp6(1),e.Q6J("ngIf",o.categoriesFavs.length),e.xp6(2),e.Q6J("ngForOf",o.categoriesFavs),e.xp6(1),e.Q6J("ngIf",o.categoriesList.length),e.xp6(2),e.Q6J("ngForOf",o.categoriesList)}}let C=(()=>{var t;class a{constructor(n,c){this.translate=n,this.controlService=c}ngOnInit(){this.initVM()}ngOnDestroy(){}ionViewWillEnter(){this.content.scrollToTop()}initVM(){this.vm$=(0,Z.a)([this.controlService.controls$,this.controlService.categories$]).pipe((0,d.U)(([n,c])=>this.updateVM(n,c)))}updateVM(n,c){let T=n.filter(s=>s.isVisible).map(s=>s.category),L=c.filter(s=>s.isVisible&&!s.isFavorite&&T.indexOf(s.uuid)>-1).sort((s,h)=>s.order[0]-h.order[0]||s.name.localeCompare(h.name)),y=c.filter(s=>s.isVisible&&s.isFavorite&&T.indexOf(s.uuid)>-1).sort((s,h)=>s.order[1]-h.order[1]||s.name.localeCompare(h.name));return{categories:c,categoriesList:L,categoriesFavs:y}}}return(t=a).\u0275fac=function(n){return new(n||t)(e.Y36(m.sK),e.Y36(M.B))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-categories"]],viewQuery:function(n,c){if(1&n&&e.Gf(i.W2,5),2&n){let O;e.iGM(O=e.CRH())&&(c.content=O.first)}},decls:10,vars:6,consts:[["slot","start"],["autoHide","false"],[4,"ngIf"],["size","6","size-md","3",4,"ngFor","ngForOf"],["size","12","size-md","6",4,"ngFor","ngForOf"],[1,"control-label"],["translate",""],["size","6","size-md","3"],[1,"card",3,"routerLink"],[1,"card-content"],[1,"ion-text-center"],[1,"icon-list",3,"src"],["text-wrap","",1,"label-list","text-flex"],["size","12","size-md","6"],[1,"item"],[1,"icon",3,"src"],["text-wrap","",1,"label","label-listitem"]],template:function(n,c){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-menu-button",1),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"ion-content"),e.YNc(8,P,7,4,"ion-grid",2),e.ALo(9,"async"),e.qZA()),2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,2,"Categories")),e.xp6(3),e.Q6J("ngIf",e.lcZ(9,4,c.vm$)))},dependencies:[i.Sm,i.PM,i.FN,i.wI,i.W2,i.jY,i.Gu,i.gu,i.Ie,i.Q$,i.fG,i.Nd,i.wd,i.sr,i.YI,u.sg,u.O5,f.rH,m.Pi,u.Ov,m.X$],styles:[".text-flex[_ngcontent-%COMP%]{display:flex;text-align:center}"]}),a})();const A=[{path:"",component:C}];let $=(()=>{var t;class a{}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[f.Bz.forChild(A),f.Bz]}),a})(),S=(()=>{var t;class a{}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[i.Pc,u.ez,x.u5,f.Bz.forChild([{path:"",component:C}]),$,m.aw.forChild()]}),a})()},4898:(F,_,r)=>{r.d(_,{B:()=>Z});var i=r(7398),f=r(7081),u=r(5879),x=r(711),m=r(6119);let Z=(()=>{var d;class e{constructor(l,g){this.dataService=l,this.loxberryService=g}get controls$(){return this.dataService.controls$}get categories$(){return this.dataService.categories$}get rooms$(){return this.dataService.rooms$}getControl$(l,g){return this.dataService.controls$.pipe((0,i.U)(v=>v.find(p=>p.uuid===g&&p.serialNr===l)),(0,f.d)())}getSubControl$(l,g,v){return this.dataService.controls$.pipe((0,i.U)(p=>{const P=p.find(C=>C.uuid===g&&C.serialNr===l&&C.subControls[v].uuid===v);if(P)return P.subControls[v]}),(0,f.d)())}updateControl(l,g){this.loxberryService.sendMessage(l,g)}}return(d=e).\u0275fac=function(l){return new(l||d)(u.LFG(x.D),u.LFG(m.$))},d.\u0275prov=u.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),e})()}}]);