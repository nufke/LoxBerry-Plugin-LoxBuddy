<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button *ngIf="!isHome"></ion-back-button>
      <ion-menu-button *ngIf="isHome" autoHide="false"></ion-menu-button>
      <ion-back-button *ngIf="!canGoBack && !isHome" defaultHref="/{{cat}}"></ion-back-button>
    </ion-buttons>
    <ion-title translate>
      {{(vm$ | async).page.name}}
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ng-container *ngIf="vm$ | async as vm">
    <ion-grid>
      <ng-container *ngIf="vm.favorites.length">
        <ion-row>
          <ion-label class="control-label">
            <p translate>Favorites</p>
          </ion-label>
        </ion-row>
        <ion-row>
          <ion-col size="6" size-md="3" *ngFor="let control of vm.favorites">

            <ng-container *ngIf="control.type === 'IRoomController'">
              <control-irc-view [control]="control" [view]="viewType.FAVORITE" [key]="key"></control-irc-view>
            </ng-container>

            <ng-container *ngIf="control.type === 'LightControllerV2'">
              <control-light-v2-view [control]="control" [view]="viewType.FAVORITE" [key]="key"></control-light-v2-view>
            </ng-container>

            <ng-container *ngIf="control.type === 'Pushbutton'">
              <control-pushbutton-view [control]="control" [view]="viewType.FAVORITE" [key]="key"></control-pushbutton-view>
            </ng-container>

            <ng-container *ngIf="control.type === 'Slider'">
              <control-slider-view [control]="control" [view]="viewType.FAVORITE" [key]="key"></control-slider-view>
            </ng-container>

            <ng-container *ngIf="control.type === 'Switch'">
              <control-switch-view [control]="control" [view]="viewType.FAVORITE" [key]="key"></control-switch-view>
            </ng-container>

            <ng-container *ngIf="control.type === 'Radio'">
              <control-radio-view [control]="control" [view]="viewType.FAVORITE" [key]="key"></control-radio-view>
            </ng-container>

            <ng-container *ngIf="control.type === 'UpDownDigital'">
              <control-up-down-digital-view [control]="control" [view]="viewType.FAVORITE" [key]="key"></control-up-down-digital-view>
            </ng-container>

            <ng-container *ngIf="control.type === 'Jalousie'">
              <control-jalousie-view [control]="control" [view]="viewType.FAVORITE" [key]="key"></control-jalousie-view>
            </ng-container>

            <ng-container *ngIf="control.type === 'Wepage'">
              <control-webpage-view [control]="control" [view]="viewType.FAVORITE" [key]="key"></control-webpage-view>
            </ng-container>

            <ng-container *ngIf="control.type === 'CentralLightController'">
              <control-central-light-view [control]="control" [view]="viewType.FAVORITE" [key]="key"></control-central-light-view>
            </ng-container>

            <ng-container *ngIf="control.type === 'Alarm'">
              <control-alarm-view [control]="control" [view]="viewType.FAVORITE" [key]="key"></control-alarm-view>
            </ng-container>

            <ng-container *ngIf="control.type === 'Daytimer'">
              <control-daytimer-view [control]="control" [view]="viewType.FAVORITE" [key]="key"></control-daytimer-view>
            </ng-container>

            <ng-container *ngIf="control.type === 'SmokeAlarm'">
              <control-smokealarm-view [control]="control" [view]="viewType.FAVORITE" [key]="key"></control-smokealarm-view>
            </ng-container>

            <ng-container *ngIf="control.type === 'Fronius'">
              <control-fronius-view [control]="control" [view]="viewType.FAVORITE" [key]="key"></control-fronius-view>
            </ng-container>

            <ng-container *ngIf="control.type === 'Intercom'">
              <control-intercom-view [control]="control" [view]="viewType.FAVORITE" [key]="key"></control-intercom-view>
            </ng-container>

            <ng-container *ngIf="
        (control.type !== 'IRoomController') &&
        (control.type !== 'LightControllerV2') &&
        (control.type !== 'Pushbutton') &&
        (control.type !== 'Slider') &&
        (control.type !== 'Switch') &&
        (control.type !== 'Radio') &&
        (control.type !== 'UpDownDigital') &&
        (control.type !== 'Jalousie') &&
        (control.type !== 'Webpage') &&
        (control.type !== 'CentralLightController') &&
        (control.type !== 'Alarm') &&
        (control.type !== 'Daytimer') &&
        (control.type !== 'SmokeAlarm') &&
        (control.type !== 'Fronius') &&
        (control.type !== 'Intercom')
        ">
              <control-text-state-view [control]="control" [view]="viewType.FAVORITE" [key]="key"></control-text-state-view>
            </ng-container>
          </ion-col>
        </ion-row>
      </ng-container>
      <ng-container *ngIf="vm.labels">
        <ng-container *ngFor="let label of vm.labels">
          <ion-row *ngIf="label.name && ((filter_list(label) | async).length > 0)">
            <ion-label class="control-label">
              <p>{{label.name}}</p>
            </ion-label>
          </ion-row>
          <ion-row>
            <ion-col size="12" size-md="6" *ngFor="let control of filter_list(label) | async">

              <ng-container *ngIf="control.type === 'IRoomController'">
                <control-irc-view [control]="control" [view]="viewType.LIST_ITEM" [key]="key"></control-irc-view>
              </ng-container>

              <ng-container *ngIf="control.type === 'LightControllerV2'">
                <control-light-v2-view [control]="control" [view]="viewType.LIST_ITEM" [key]="key"></control-light-v2-view>
              </ng-container>

              <ng-container *ngIf="control.type === 'Pushbutton'">
                <control-pushbutton-view [control]="control" [view]="viewType.LIST_ITEM" [key]="key"></control-pushbutton-view>
              </ng-container>

              <ng-container *ngIf="control.type === 'Slider'">
                <control-slider-view [control]="control" [view]="viewType.LIST_ITEM" [key]="key"></control-slider-view>
              </ng-container>

              <ng-container *ngIf="control.type === 'Switch'">
                <control-switch-view [control]="control" [view]="viewType.LIST_ITEM" [key]="key"></control-switch-view>
              </ng-container>

              <ng-container *ngIf="control.type === 'Radio'">
                <control-radio-view [control]="control" [view]="viewType.LIST_ITEM" [key]="key"></control-radio-view>
              </ng-container>

              <ng-container *ngIf="control.type === 'UpDownDigital'">
                <control-up-down-digital-view [control]="control" [view]="viewType.LIST_ITEM" [key]="key"></control-up-down-digital-view>
              </ng-container>

              <ng-container *ngIf="control.type === 'Jalousie'">
                <control-jalousie-view [control]="control" [view]="viewType.LIST_ITEM" [key]="key"></control-jalousie-view>
              </ng-container>

              <ng-container *ngIf="control.type === 'Webpage'">
                <control-webpage-view [control]="control" [view]="viewType.LIST_ITEM" [key]="key"></control-webpage-view>
              </ng-container>

              <ng-container *ngIf="control.type === 'CentralLightController'">
                <control-central-light-view [control]="control" [view]="viewType.LIST_ITEM" [key]="key"></control-central-light-view>
              </ng-container>

              <ng-container *ngIf="control.type === 'Alarm'">
                <control-alarm-view [control]="control" [view]="viewType.LIST_ITEM" [key]="key"></control-alarm-view>
              </ng-container>

              <ng-container *ngIf="control.type === 'Daytimer'">
                <control-daytimer-view [control]="control" [view]="viewType.LIST_ITEM" [key]="key"></control-daytimer-view>
              </ng-container>

              <ng-container *ngIf="control.type === 'SmokeAlarm'">
                <control-smokealarm-view [control]="control" [view]="viewType.LIST_ITEM" [key]="key"></control-smokealarm-view>
              </ng-container>

              <ng-container *ngIf="control.type === 'Fronius'">
                <control-fronius-view [control]="control" [view]="viewType.LIST_ITEM" [key]="key"></control-fronius-view>
              </ng-container>

              <ng-container *ngIf="control.type === 'Intercom'">
                <control-intercom-view [control]="control" [view]="viewType.LIST_ITEM" [key]="key"></control-intercom-view>
              </ng-container>

              <ng-container *ngIf="
          (control.type !== 'IRoomController') &&
          (control.type !== 'LightControllerV2') &&
          (control.type !== 'Pushbutton') &&
          (control.type !== 'Slider') &&
          (control.type !== 'Switch') &&
          (control.type !== 'Radio') &&
          (control.type !== 'UpDownDigital') &&
          (control.type !== 'Jalousie') &&
          (control.type !== 'Webpage') &&
          (control.type !== 'CentralLightController') &&
          (control.type !== 'Alarm') &&
          (control.type !== 'Daytimer') &&
          (control.type !== 'SmokeAlarm') &&
          (control.type !== 'Fronius') &&
          (control.type !== 'Intercom')
          ">
                <control-text-state-view [control]="control" [view]="viewType.LIST_ITEM" [key]="key"></control-text-state-view>
              </ng-container>

            </ion-col>
          </ion-row>
        </ng-container>
      </ng-container>
    </ion-grid>
  </ng-container>
</ion-content>